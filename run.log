[INFO][2024-12-09 23:20:04][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-09 23:20:04][config.py:225] - [Config] User datas file not found, ignore.
[INFO][2024-12-09 23:20:04][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-09 23:20:04][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-09 23:20:04][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-09 23:20:04][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin GODCMD not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin KEYWORD not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin BANWORDS not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin LINKAI not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin ROLE not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin DUNGEON not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin BDUNIT not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin HELLO not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][plugin_manager.py:123] - Plugin FINISH not found in pconfig, adding to pconfig...
[INFO][2024-12-09 23:20:04][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6359ã€‚
[INFO][2024-12-09 23:20:04][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-09 23:20:04][keyword.py:40] - [keyword] {}
[INFO][2024-12-09 23:20:04][keyword.py:42] - [keyword] inited.
[WARNING][2024-12-09 23:20:04][banwords.py:54] - [Banwords] init failed, ignore or see https://github.com/zhayujie/chatgpt-on-wechat/tree/master/plugins/banwords .
[WARNING][2024-12-09 23:20:04][plugin_manager.py:150] - Failed to init BANWORDS, diabled. [Errno 2] No such file or directory: '/Users/amo/Desktop/chatgpt-on-wechat-master/plugins/banwords/banwords.txt'
[INFO][2024-12-09 23:20:04][linkai.py:35] - [LinkAI] inited, config={'group_app_map': {'æµ‹è¯•ç¾¤å1': 'default', 'æµ‹è¯•ç¾¤å2': 'Kv2fXJcH'}, 'midjourney': {'enabled': False, 'auto_translate': True, 'img_proxy': True, 'max_tasks': 3, 'max_tasks_per_user': 1, 'use_image_create_prefix': True}, 'summary': {'enabled': False, 'group_enabled': True, 'max_file_size': 5000, 'type': ['FILE', 'SHARING']}}
[INFO][2024-12-09 23:20:04][role.py:69] - [Role] inited
[INFO][2024-12-09 23:20:04][dungeon.py:56] - [Dungeon] inited
[WARNING][2024-12-09 23:20:04][bdunit.py:42] - [BDunit] init failed, ignore 
[WARNING][2024-12-09 23:20:04][plugin_manager.py:150] - Failed to init BDUNIT, diabled. config.json not found
[INFO][2024-12-09 23:20:04][hello.py:38] - [Hello] inited
[INFO][2024-12-09 23:20:04][finish.py:23] - [Finish] inited
[INFO][2024-12-09 23:20:43][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-09 23:20:43][config.py:234] - [Config] User datas saved.
[INFO][2024-12-09 23:38:51][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-09 23:38:51][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-09 23:38:51][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-09 23:38:51][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-09 23:38:51][plugin_manager.py:113] - Failed to import plugin bazi: f-string: single '}' is not allowed (bazi_plugin.py, line 4777)
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-09 23:38:51][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-09 23:38:51][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-09 23:38:51][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6957ã€‚
[INFO][2024-12-09 23:38:51][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-09 23:38:51][keyword.py:40] - [keyword] {}
[INFO][2024-12-09 23:38:51][keyword.py:42] - [keyword] inited.
[INFO][2024-12-09 23:38:51][linkai.py:35] - [LinkAI] inited, config={'group_app_map': {'æµ‹è¯•ç¾¤å1': 'default', 'æµ‹è¯•ç¾¤å2': 'Kv2fXJcH'}, 'midjourney': {'enabled': False, 'auto_translate': True, 'img_proxy': True, 'max_tasks': 3, 'max_tasks_per_user': 1, 'use_image_create_prefix': True}, 'summary': {'enabled': False, 'group_enabled': True, 'max_file_size': 5000, 'type': ['FILE', 'SHARING']}}
[INFO][2024-12-09 23:38:51][role.py:69] - [Role] inited
[INFO][2024-12-09 23:38:51][dungeon.py:56] - [Dungeon] inited
[INFO][2024-12-09 23:38:51][hello.py:38] - [Hello] inited
[INFO][2024-12-09 23:38:51][finish.py:23] - [Finish] inited
[INFO][2024-12-09 23:39:25][wechat_channel.py:134] - Wechat login success, user_id: @2e42b3e70eab108e85ef1bbfb3b6beb5135bbb118114af50ccc2ad64916a1194, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-09 23:39:40][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-09 23:39:40][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1990 12 06 22
[INFO][2024-12-09 23:39:43][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®ä½ æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨å‡ºç”Ÿäº1990å¹´12æœˆ6æ—¥ã€‚å¦‚æœéœ€è¦æ ¹æ®è¿™ä¸ªä¿¡æ¯è¿›è¡ŒæŸç§åˆ†æï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†ç­‰ï¼Œè¯·æ‚¨å…·ä½“è¯´æ˜æƒ³è¦äº†è§£çš„å†…å®¹ã€‚), receiver=@0564fec6b6f98d9465a0ea11603415c1a05531d17827de0ca099a3f8ef0df5a3
[INFO][2024-12-09 23:39:55][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-09 23:39:55][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 16:13:18][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 16:13:18][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 16:13:19][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 16:13:19][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 16:13:19][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 16:13:19][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 16:13:19][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 16:13:19][plugin_manager.py:182] - Plugin bazi_plugin not found, but found in plugins.json
[INFO][2024-12-11 16:13:19][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º5964ã€‚
[INFO][2024-12-11 16:13:19][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 16:13:19][keyword.py:40] - [keyword] {}
[INFO][2024-12-11 16:13:19][keyword.py:42] - [keyword] inited.
[INFO][2024-12-11 16:13:19][linkai.py:35] - [LinkAI] inited, config={'group_app_map': {'æµ‹è¯•ç¾¤å1': 'default', 'æµ‹è¯•ç¾¤å2': 'Kv2fXJcH'}, 'midjourney': {'enabled': False, 'auto_translate': True, 'img_proxy': True, 'max_tasks': 3, 'max_tasks_per_user': 1, 'use_image_create_prefix': True}, 'summary': {'enabled': False, 'group_enabled': True, 'max_file_size': 5000, 'type': ['FILE', 'SHARING']}}
[INFO][2024-12-11 16:13:19][role.py:69] - [Role] inited
[INFO][2024-12-11 16:13:19][dungeon.py:56] - [Dungeon] inited
[INFO][2024-12-11 16:13:19][hello.py:38] - [Hello] inited
[INFO][2024-12-11 16:13:19][finish.py:23] - [Finish] inited
[INFO][2024-12-11 16:13:57][wechat_channel.py:134] - Wechat login success, user_id: @e9f0ae9df89fdc0219e9cef80004071e110c3bcde888ddf483d27944ebed984a, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 16:15:59][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 16:15:59][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1990 12 06 22
[INFO][2024-12-11 16:16:04][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼ˆç”·æ€§ï¼Œå‡ºç”Ÿäº1990å¹´12æœˆ6æ—¥22ç‚¹ï¼‰ï¼Œä¼¼ä¹æ‚¨æ˜¯åœ¨è¯¢é—®ä¸è¿™ä¸ªå‡ºç”Ÿæ—¥æœŸç›¸å…³çš„æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–æ–¹é¢çš„ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç›¸å…³çš„å†…å®¹ï¼š

1. æ˜Ÿåº§ï¼šæ ¹æ®è¥¿æ–¹å æ˜Ÿå­¦ï¼Œ1990å¹´12æœˆ6æ—¥çš„æ˜Ÿåº§æ˜¯å°„æ‰‹åº§ï¼ˆSagittariusï¼‰ï¼Œå°„æ‰‹åº§çš„æ—¥æœŸèŒƒå›´æ˜¯11æœˆ22æ—¥è‡³12æœˆ21æ—¥ã€‚

2. ä¸­å›½ç”Ÿè‚–ï¼š1990å¹´çš„ç”Ÿè‚–æ˜¯é©¬ã€‚æ ¹æ®ä¸­å›½å†œå†ï¼Œ1990å¹´æ˜¯åºšåˆå¹´ï¼Œå±é©¬çš„äººé€šå¸¸è¢«è®¤ä¸ºæ˜¯æ´»æ³¼ã€çƒ­æƒ…å’Œä¹è§‚çš„ã€‚

3. å‘½ç†ï¼šå¦‚æœæ‚¨å¯¹å…«å­—å‘½ç†æ„Ÿå…´è¶£ï¼Œæ‚¨å¯ä»¥æä¾›æ›´è¯¦ç»†çš„å‡ºç”Ÿåœ°ç‚¹ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥è®¡ç®—å‡ºå…·ä½“çš„å…«å­—ã€‚

å¦‚æœæ‚¨æœ‰å…¶ä»–ç‰¹å®šçš„é—®é¢˜æˆ–éœ€è¦æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼), receiver=@51a1156b54158f0ff1f608d6abbf625d51327bc713a94afd58328ccab38de5f8
[INFO][2024-12-11 16:32:26][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 16:32:26][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 16:32:44][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 16:32:44][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 16:32:45][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 16:32:45][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 16:32:45][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 16:32:45][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 16:32:45][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 16:32:45][plugin_manager.py:182] - Plugin bazi_plugin not found, but found in plugins.json
[INFO][2024-12-11 16:32:45][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8964ã€‚
[INFO][2024-12-11 16:32:45][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 16:32:45][keyword.py:40] - [keyword] {}
[INFO][2024-12-11 16:32:45][keyword.py:42] - [keyword] inited.
[INFO][2024-12-11 16:32:45][linkai.py:35] - [LinkAI] inited, config={'group_app_map': {'æµ‹è¯•ç¾¤å1': 'default', 'æµ‹è¯•ç¾¤å2': 'Kv2fXJcH'}, 'midjourney': {'enabled': False, 'auto_translate': True, 'img_proxy': True, 'max_tasks': 3, 'max_tasks_per_user': 1, 'use_image_create_prefix': True}, 'summary': {'enabled': False, 'group_enabled': True, 'max_file_size': 5000, 'type': ['FILE', 'SHARING']}}
[INFO][2024-12-11 16:32:45][role.py:69] - [Role] inited
[INFO][2024-12-11 16:32:45][dungeon.py:56] - [Dungeon] inited
[INFO][2024-12-11 16:32:45][hello.py:38] - [Hello] inited
[INFO][2024-12-11 16:32:45][finish.py:23] - [Finish] inited
[INFO][2024-12-11 16:33:23][wechat_channel.py:134] - Wechat login success, user_id: @6b03cd12d8566f171eb2f34576141463831265787cd1def5892621ad08a6ce3c, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 16:33:58][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 16:33:58][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[INFO][2024-12-11 16:34:00][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯1992å¹´6æœˆ23æ—¥å‡ºç”Ÿçš„ç”·æ€§ã€‚è¯·é—®æ‚¨æƒ³è¦äº†è§£ä»€ä¹ˆå‘¢ï¼Ÿæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†ã€å¥åº·å»ºè®®ç­‰ï¼Ÿ), receiver=@b3dc864eea5e020a2d98f0717a9c21474569d80eaf2bc9440ce29989282cd7ee
[INFO][2024-12-11 16:45:52][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 16:45:52][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 16:48:39][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 16:48:39][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 16:48:39][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 16:48:39][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 16:48:39][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 16:48:39][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 16:48:39][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 16:48:40][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 16:48:40][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 16:48:40][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 16:48:40][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 16:48:40][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 16:48:40][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 16:48:40][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 16:48:40][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 16:48:40][plugin_manager.py:182] - Plugin bazi_plugin not found, but found in plugins.json
[INFO][2024-12-11 16:48:40][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4173ã€‚
[INFO][2024-12-11 16:48:40][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 16:48:40][keyword.py:40] - [keyword] {}
[INFO][2024-12-11 16:48:40][keyword.py:42] - [keyword] inited.
[INFO][2024-12-11 16:48:40][linkai.py:35] - [LinkAI] inited, config={'group_app_map': {'æµ‹è¯•ç¾¤å1': 'default', 'æµ‹è¯•ç¾¤å2': 'Kv2fXJcH'}, 'midjourney': {'enabled': False, 'auto_translate': True, 'img_proxy': True, 'max_tasks': 3, 'max_tasks_per_user': 1, 'use_image_create_prefix': True}, 'summary': {'enabled': False, 'group_enabled': True, 'max_file_size': 5000, 'type': ['FILE', 'SHARING']}}
[INFO][2024-12-11 16:48:40][role.py:69] - [Role] inited
[INFO][2024-12-11 16:48:40][dungeon.py:56] - [Dungeon] inited
[INFO][2024-12-11 16:48:40][hello.py:38] - [Hello] inited
[INFO][2024-12-11 16:48:40][finish.py:23] - [Finish] inited
[INFO][2024-12-11 16:49:03][wechat_channel.py:134] - Wechat login success, user_id: @fa97039b0195671c990d83b9fa5b59034c1d90b14fe5e8a991c4fc5442b07c20, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 16:52:39][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 16:52:39][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[INFO][2024-12-11 16:52:42][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] çœ‹èµ·æ¥ä½ æä¾›çš„æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼ˆ1992å¹´6æœˆ23æ—¥22æ—¶ï¼‰ã€‚è¯·é—®ä½ æƒ³è¦äº†è§£ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿæ˜¯å…³äºæ˜Ÿåº§ã€å‘½ç†ã€è¿åŠ¿ï¼Œè¿˜æ˜¯å…¶ä»–æ–¹é¢çš„ä¿¡æ¯ï¼Ÿ), receiver=@9b9fe59537b95246e2aba61f51263cf78f3ffece8292f0004b8659a6b7fadfd6
[INFO][2024-12-11 16:57:12][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 16:57:12][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:09:27][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:09:27][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:09:28][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:09:28][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:09:28][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:09:28][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:09:28][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:09:28][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:09:28][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8634ã€‚
[INFO][2024-12-11 17:09:28][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:09:28][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:10:19][wechat_channel.py:134] - Wechat login success, user_id: @f4d6106549acef561885d78bda94d68039b289bbb59b365dff2f6b5b6eea50c4, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 17:21:45][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 17:21:45][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:22:11][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:22:11][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:22:11][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:22:11][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:22:11][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:22:11][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:22:11][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:22:11][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:22:11][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4015ã€‚
[INFO][2024-12-11 17:22:11][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:22:11][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:22:46][wechat_channel.py:134] - Wechat login success, user_id: @d9694017156bb33eec68276fe83054c796b01e7f704ec7657a155bb49df6f279, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 17:25:05][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 17:25:05][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:33:41][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:33:41][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:33:41][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:33:41][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:33:41][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:33:41][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:33:41][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:33:41][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:33:41][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1569ã€‚
[INFO][2024-12-11 17:33:41][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:33:41][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:33:50][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 17:33:50][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:34:26][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:34:26][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:34:27][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:34:27][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:34:27][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:34:27][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:34:27][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:34:27][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:34:27][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º9046ã€‚
[INFO][2024-12-11 17:34:27][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:34:27][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:34:35][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 17:34:35][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:39:40][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:39:40][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:39:40][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:39:40][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:39:40][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:39:40][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:39:40][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:39:40][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:39:40][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2509ã€‚
[INFO][2024-12-11 17:39:40][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:39:40][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:45:29][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:45:29][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:45:29][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:45:29][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:45:29][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:45:29][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:45:29][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:45:29][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:45:29][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2798ã€‚
[INFO][2024-12-11 17:45:29][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:45:29][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:46:28][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 17:46:28][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:47:45][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:47:45][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:47:46][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:47:46][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:47:46][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:47:46][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:47:46][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:47:46][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:47:46][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º5197ã€‚
[INFO][2024-12-11 17:47:46][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:47:46][finish.py:23] - [Finish] inited
[INFO][2024-12-11 17:48:02][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 17:48:02][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 17:58:27][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 17:58:27][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 17:58:27][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 17:58:27][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 17:58:27][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 17:58:27][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 17:58:27][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 17:58:27][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 17:58:27][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2879ã€‚
[INFO][2024-12-11 17:58:27][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 17:58:27][finish.py:23] - [Finish] inited
[INFO][2024-12-11 18:02:10][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 18:02:10][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 18:02:10][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 18:02:10][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 18:02:10][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 18:02:10][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 18:02:10][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 18:02:10][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 18:02:10][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º5681ã€‚
[INFO][2024-12-11 18:02:10][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 18:02:10][finish.py:23] - [Finish] inited
[INFO][2024-12-11 18:03:51][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 18:03:51][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 18:03:52][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 18:03:52][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 18:03:52][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 18:03:52][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 18:03:52][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 18:03:52][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 18:03:52][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2103ã€‚
[INFO][2024-12-11 18:03:52][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 18:03:52][finish.py:23] - [Finish] inited
[INFO][2024-12-11 18:09:32][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 18:09:32][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 20:23:47][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 20:23:47][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 20:23:47][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 20:23:47][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 20:23:47][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 20:23:47][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 20:23:47][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 20:23:47][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 20:23:47][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º3906ã€‚
[INFO][2024-12-11 20:23:47][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 20:23:47][finish.py:23] - [Finish] inited
[INFO][2024-12-11 20:25:33][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 20:25:33][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 20:42:14][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 20:42:14][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 20:42:14][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 20:42:14][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 20:42:14][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 20:42:14][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[INFO][2024-12-11 20:42:15][plugin_manager.py:41] - Plugin tool_v0.5 registered, path=./plugins/tool
[INFO][2024-12-11 20:42:15][plugin_manager.py:123] - Plugin TOOL not found in pconfig, adding to pconfig...
[ERROR][2024-12-11 20:42:15][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[INFO][2024-12-11 20:42:15][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7426ã€‚
[INFO][2024-12-11 20:42:15][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:02:41][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:02:41][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:02:47][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:02:47][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:02:47][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:02:47][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:02:47][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:02:48][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'bidict'
[INFO][2024-12-11 21:02:48][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:02:48][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:02:48][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:02:48][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:02:48][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:02:48][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:02:48][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:02:48][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:02:48][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:02:48][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2017ã€‚
[INFO][2024-12-11 21:02:48][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:02:48][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:03:19][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:03:19][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 21:31:20][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:31:20][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:31:24][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:31:24][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:31:24][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:31:24][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:31:24][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:31:25][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 21:31:25][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:31:25][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:31:25][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:31:25][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:31:25][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:31:25][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:31:25][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:31:25][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:31:25][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:31:25][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0354ã€‚
[INFO][2024-12-11 21:31:25][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:31:25][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:31:41][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:31:41][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 21:36:21][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:36:21][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:36:22][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:36:22][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:36:22][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'datas'
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:36:22][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:36:22][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:36:22][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:36:22][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:36:22][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2103ã€‚
[INFO][2024-12-11 21:36:22][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:36:22][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:42:06][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:42:06][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 21:42:17][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:42:17][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:42:17][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:42:17][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:42:17][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'datas'
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:42:17][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:42:17][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:42:17][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:42:17][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:42:17][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1726ã€‚
[INFO][2024-12-11 21:42:17][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:42:17][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:42:22][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:42:22][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 21:46:49][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:46:49][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:46:50][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:46:50][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:46:50][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'datas'
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:46:50][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:46:50][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:46:50][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:46:50][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:46:50][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º3218ã€‚
[INFO][2024-12-11 21:46:50][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:46:50][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:46:54][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:46:54][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 21:51:01][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:51:01][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:51:01][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:51:01][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:51:01][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'datas'
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:51:01][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:51:01][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:51:01][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:51:01][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:51:01][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1702ã€‚
[INFO][2024-12-11 21:51:01][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:51:01][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:51:15][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:51:15][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 21:53:55][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 21:53:55][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 21:53:55][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 21:53:55][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 21:53:55][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'datas'
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 21:53:55][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 21:53:55][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 21:53:55][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 21:53:55][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 21:53:55][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8240ã€‚
[INFO][2024-12-11 21:53:55][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 21:53:55][finish.py:23] - [Finish] inited
[INFO][2024-12-11 21:53:59][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 21:53:59][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:00:46][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:00:46][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:00:46][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:00:46][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 22:00:46][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'datas'
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:00:46][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:00:46][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 22:00:46][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 22:00:46][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 22:00:46][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2740ã€‚
[INFO][2024-12-11 22:00:46][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:00:46][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:00:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:00:56][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:03:05][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:03:05][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:03:05][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:03:05][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:03:05][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:03:05][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:03:05][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 22:03:06][plugin_manager.py:113] - Failed to import plugin bazi: No module named 'ganzhi'
[INFO][2024-12-11 22:03:06][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:03:06][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:03:06][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:03:06][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:03:06][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:03:06][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:03:06][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 22:03:06][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 22:03:06][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 22:03:06][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0753ã€‚
[INFO][2024-12-11 22:03:06][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:03:06][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:13:05][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:13:05][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:13:17][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:13:17][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:13:18][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:13:18][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 22:13:18][plugin_manager.py:113] - Failed to import plugin bazi: name 'bidict' is not defined
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:13:18][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:13:18][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 22:13:18][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 22:13:18][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 22:13:18][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7951ã€‚
[INFO][2024-12-11 22:13:18][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:13:18][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:14:03][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:14:03][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:19:21][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:19:21][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:19:21][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:19:21][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:19:21][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:19:21][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:19:21][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-11 22:19:22][plugin_manager.py:113] - Failed to import plugin bazi: name 'OrderedDict' is not defined
[INFO][2024-12-11 22:19:22][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:19:22][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:19:22][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:19:22][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:19:22][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:19:22][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:19:22][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 22:19:22][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[ERROR][2024-12-11 22:19:22][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 22:19:22][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7052ã€‚
[INFO][2024-12-11 22:19:22][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:19:22][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:21:13][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:21:13][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:21:19][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:21:19][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:21:20][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:21:20][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:21:20][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:21:20][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[ERROR][2024-12-11 22:21:20][plugin_manager.py:182] - Plugin tool not found, but found in plugins.json
[INFO][2024-12-11 22:21:20][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º5071ã€‚
[INFO][2024-12-11 22:21:20][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:21:20][bazi.py:177] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:21:20][bazi.py:194] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:21:20][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:22:18][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:22:18][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:22:57][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:22:57][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:22:58][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:22:58][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:22:58][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:22:58][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-11 22:22:58][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8706ã€‚
[INFO][2024-12-11 22:22:58][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:22:58][bazi.py:177] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:22:58][bazi.py:194] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:22:58][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:23:43][wechat_channel.py:134] - Wechat login success, user_id: @6b3fd91831addb5c5d28fda81662329257c5dc9222ef2b9a4ef59a52147a6933, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 22:30:16][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 22:30:19][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[WARNING][2024-12-11 22:30:19][session_manager.py:72] - Exception when counting tokens precisely for prompt: No module named 'tiktoken'
[WARNING][2024-12-11 22:37:49][chat_gpt_bot.py:158] - [CHATGPT] APIConnectionError: Error communicating with OpenAI: HTTPSConnectionPool(host='api.openai.com', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x114435b50>: Failed to establish a new connection: [Errno 60] Operation timed out'))
[WARNING][2024-12-11 22:37:54][chat_gpt_bot.py:168] - [CHATGPT] ç¬¬1æ¬¡é‡è¯•
[INFO][2024-12-11 22:38:02][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:38:02][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:38:05][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:38:05][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:38:08][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:38:08][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:41:03][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:41:03][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:41:03][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:41:03][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:41:03][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:41:03][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-11 22:41:03][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2069ã€‚
[INFO][2024-12-11 22:41:03][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:41:03][bazi.py:177] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:41:03][bazi.py:194] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:41:03][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:41:38][wechat_channel.py:134] - Wechat login success, user_id: @3c2ea24a960415aab1543bc978b388dd7e0ff510caf74f5ac299d24edea92dc2, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 22:41:45][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 22:41:46][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[WARNING][2024-12-11 22:49:17][chat_gpt_bot.py:158] - [CHATGPT] APIConnectionError: Error communicating with OpenAI: HTTPSConnectionPool(host='api.openai.com', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x114a85f10>: Failed to establish a new connection: [Errno 60] Operation timed out'))
[WARNING][2024-12-11 22:49:22][chat_gpt_bot.py:168] - [CHATGPT] ç¬¬1æ¬¡é‡è¯•
[INFO][2024-12-11 22:54:00][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:54:00][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:54:01][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:54:01][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:54:02][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 22:54:02][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 22:54:16][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:54:16][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:54:16][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:54:16][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:54:16][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:54:16][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-11 22:54:16][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6043ã€‚
[INFO][2024-12-11 22:54:16][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:54:16][bazi.py:177] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:54:16][bazi.py:194] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:54:16][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:54:36][wechat_channel.py:134] - Wechat login success, user_id: @101e1cef0a4da8c85b4899a73b7566740e81c74df89989ef35dd1520d73e4449, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 22:54:45][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 22:54:46][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[INFO][2024-12-11 22:57:28][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 22:57:28][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 22:57:28][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 22:57:28][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 22:57:28][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 22:57:28][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-11 22:57:28][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6418ã€‚
[INFO][2024-12-11 22:57:28][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 22:57:28][bazi.py:177] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:57:28][bazi.py:194] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 22:57:28][finish.py:23] - [Finish] inited
[INFO][2024-12-11 22:57:49][wechat_channel.py:134] - Wechat login success, user_id: @35b8553216301e198d8bc2d59dcfe1ec1de6d86c9aa2906391ab94315ba2d797, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 22:58:03][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 22:58:03][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[WARNING][2024-12-11 23:05:34][chat_gpt_bot.py:158] - [CHATGPT] APIConnectionError: Error communicating with OpenAI: HTTPSConnectionPool(host='api.openai.com', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x111f09e20>: Failed to establish a new connection: [Errno 60] Operation timed out'))
[WARNING][2024-12-11 23:05:39][chat_gpt_bot.py:168] - [CHATGPT] ç¬¬1æ¬¡é‡è¯•
[INFO][2024-12-11 23:05:45][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:05:45][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:09:30][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:09:30][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:09:31][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:09:31][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:09:38][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 23:09:38][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 23:09:38][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 23:09:38][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 23:09:38][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 23:09:38][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-11 23:09:38][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º9740ã€‚
[INFO][2024-12-11 23:09:38][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 23:09:38][bazi.py:179] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:09:38][bazi.py:197] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:09:38][finish.py:23] - [Finish] inited
[INFO][2024-12-11 23:10:03][wechat_channel.py:134] - Wechat login success, user_id: @14bb85b3d949468604c5457a4b395fb21d680072116561a24fbd57e02267d92b, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 23:10:18][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 23:10:18][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[INFO][2024-12-11 23:15:22][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:15:22][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:15:23][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:15:23][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:15:23][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:15:23][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:16:07][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': ''}
[INFO][2024-12-11 23:16:07][config.py:223] - [Config] User datas loaded.
[INFO][2024-12-11 23:16:08][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 23:16:08][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 23:16:08][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 23:16:08][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[INFO][2024-12-11 23:16:08][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6058ã€‚
[INFO][2024-12-11 23:16:08][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 23:16:08][bazi.py:179] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:16:08][bazi.py:197] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:16:08][finish.py:23] - [Finish] inited
[INFO][2024-12-11 23:16:30][wechat_channel.py:134] - Wechat login success, user_id: @3beb236dcaca12787c1af86abac20cc291129fbe65aa12ebae42b1343febfe91, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[INFO][2024-12-11 23:16:32][bazi.py:5107] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[INFO][2024-12-11 23:16:32][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 23:16:32][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[INFO][2024-12-11 23:18:11][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:18:11][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:18:11][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:18:11][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:18:11][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:18:11][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-11 23:24:58][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-11 23:24:58][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-11 23:24:58][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-11 23:24:59][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-11 23:24:59][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 23:24:59][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 23:24:59][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 23:24:59][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-11 23:24:59][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-11 23:24:59][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-11 23:24:59][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-11 23:24:59][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4307ã€‚
[INFO][2024-12-11 23:24:59][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 23:24:59][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:24:59][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:24:59][finish.py:23] - [Finish] inited
[DEBUG][2024-12-11 23:25:21][wechat_channel.py:154] - Login success
[INFO][2024-12-11 23:25:21][wechat_channel.py:134] - Wechat login success, user_id: @0dabcd6c5b984799a4d33e6162745c9dd6d449eeb3eeecb6c6ed1c359f476148, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-11 23:25:28][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "7234529025916276419", "FromUserName": "@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada", "ToUserName": "@0dabcd6c5b984799a4d33e6162745c9dd6d449eeb3eeecb6c6ed1c359f476148", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733930729, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 7234529025916276419, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada&skey=@crypt_5af1fb51_b6bab0a0c795d28c450dcf92e1ce09db", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=7234529025916276419, create_time=1733930729, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada, from_user_nickname=é˜¿é»˜, to_user_id=@0dabcd6c5b984799a4d33e6162745c9dd6d449eeb3eeecb6c6ed1c359f476148, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-11 23:25:28][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bc17cd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada', 'receiver': '@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada'})
[DEBUG][2024-12-11 23:25:28][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bc17cd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada', 'receiver': '@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada'})
[DEBUG][2024-12-11 23:25:28][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:25:28][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:25:28][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:25:28][bazi.py:5115] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[ERROR][2024-12-11 23:25:28][bazi.py:5221] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'EventContext' object has no attribute 'get'
[DEBUG][2024-12-11 23:25:28][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:25:28][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'EventContext' object has no attribute 'get')
[DEBUG][2024-12-11 23:25:28][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'EventContext' object has no attribute 'get'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bc17cd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada', 'receiver': '@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada'})
[INFO][2024-12-11 23:25:28][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'EventContext' object has no attribute 'get'), receiver=@65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada
[DEBUG][2024-12-11 23:25:28][chat_channel.py:300] - Worker return success, session_id = @65d9ccb25fea9b5e8dd60bb1cc3b2ec9aceccc45f20e793ea77e4686f38d5ada
[INFO][2024-12-11 23:31:22][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:31:22][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:31:23][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:31:23][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-11 23:31:30][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-11 23:31:30][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-11 23:31:30][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-11 23:31:30][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-11 23:31:30][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 23:31:30][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 23:31:30][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 23:31:30][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-11 23:31:30][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-11 23:31:30][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-11 23:31:30][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-11 23:31:30][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8192ã€‚
[INFO][2024-12-11 23:31:30][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 23:31:30][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:31:30][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:31:30][finish.py:23] - [Finish] inited
[DEBUG][2024-12-11 23:31:49][wechat_channel.py:154] - Login success
[INFO][2024-12-11 23:31:49][wechat_channel.py:134] - Wechat login success, user_id: @b8a46cef79816285f01532f1b5b9499fa617a34de2c918fdcdec559b115428bd, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-11 23:31:59][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "2797418939443971830", "FromUserName": "@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d", "ToUserName": "@b8a46cef79816285f01532f1b5b9499fa617a34de2c918fdcdec559b115428bd", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733931119, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 2797418939443971830, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d&skey=@crypt_5af1fb51_c8de900cc4cf5c13baae6d90b1498d7f", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=2797418939443971830, create_time=1733931119, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d, from_user_nickname=é˜¿é»˜, to_user_id=@b8a46cef79816285f01532f1b5b9499fa617a34de2c918fdcdec559b115428bd, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-11 23:31:59][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bda2d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d', 'receiver': '@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d'})
[DEBUG][2024-12-11 23:31:59][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bda2d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d', 'receiver': '@08b9a6657fafdbeed64338cdd281553f999717ad3ee80390990a613295eec34d'})
[DEBUG][2024-12-11 23:31:59][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:31:59][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:31:59][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:31:59][bazi.py:5115] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[ERROR][2024-12-11 23:31:59][bazi.py:5118] - [BaziPlugin] context å±æ€§ä¸å­˜åœ¨
[DEBUG][2024-12-11 23:31:59][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:31:59][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:31:59][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-11 23:31:59][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 23:32:00][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:32:00][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-11 23:32:00][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[INFO][2024-12-11 23:35:43][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:35:43][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:35:43][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:35:43][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:35:44][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:35:44][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-11 23:35:51][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-11 23:35:51][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-11 23:35:51][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-11 23:35:51][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-11 23:35:51][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 23:35:51][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 23:35:51][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 23:35:51][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-11 23:35:51][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-11 23:35:51][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-11 23:35:51][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-11 23:35:51][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4950ã€‚
[INFO][2024-12-11 23:35:51][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 23:35:51][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:35:51][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:35:51][finish.py:23] - [Finish] inited
[DEBUG][2024-12-11 23:36:11][wechat_channel.py:154] - Login success
[INFO][2024-12-11 23:36:11][wechat_channel.py:134] - Wechat login success, user_id: @49cbe558637c63ce9424adc078acb07a234ec20b87b85f1613e5bff25c628b0e, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-11 23:36:23][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "6728694190413703583", "FromUserName": "@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2", "ToUserName": "@49cbe558637c63ce9424adc078acb07a234ec20b87b85f1613e5bff25c628b0e", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733931383, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 6728694190413703583, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2&skey=@crypt_5af1fb51_a40c1c347266e4416e3d9eab3fcdcad1", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=6728694190413703583, create_time=1733931383, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2, from_user_nickname=é˜¿é»˜, to_user_id=@49cbe558637c63ce9424adc078acb07a234ec20b87b85f1613e5bff25c628b0e, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-11 23:36:23][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10ba1fe20>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2', 'receiver': '@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2'})
[DEBUG][2024-12-11 23:36:23][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10ba1fe20>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2', 'receiver': '@9a8fc81d7d7e0518b9f9eaea6c15ff15ebfd7c7de1bbb92df0883448071666d2'})
[DEBUG][2024-12-11 23:36:23][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:36:23][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:36:23][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:36:23][bazi.py:5115] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-11 23:36:23][bazi.py:5122] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:36:23][bazi.py:5137] - [BaziPlugin] æœª@æœºå™¨äººï¼Œè·³è¿‡
[DEBUG][2024-12-11 23:36:23][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:36:23][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:36:23][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-11 23:36:23][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-11 23:36:23][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:36:23][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-11 23:36:23][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[WARNING][2024-12-11 23:43:53][chat_gpt_bot.py:158] - [CHATGPT] APIConnectionError: Error communicating with OpenAI: HTTPSConnectionPool(host='api.openai.com', port=443): Max retries exceeded with url: /v1/chat/completions (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x110cc1700>: Failed to establish a new connection: [Errno 60] Operation timed out'))
[WARNING][2024-12-11 23:43:58][chat_gpt_bot.py:168] - [CHATGPT] ç¬¬1æ¬¡é‡è¯•
[INFO][2024-12-11 23:49:26][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:49:26][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:49:27][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:49:27][config.py:234] - [Config] User datas saved.
[INFO][2024-12-11 23:49:28][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-11 23:49:28][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-11 23:49:36][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-11 23:49:36][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-11 23:49:36][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-11 23:49:37][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-11 23:49:37][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-11 23:49:37][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-11 23:49:37][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-11 23:49:37][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-11 23:49:37][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-11 23:49:37][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-11 23:49:37][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-11 23:49:37][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2365ã€‚
[INFO][2024-12-11 23:49:37][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-11 23:49:37][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:49:37][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-11 23:49:37][finish.py:23] - [Finish] inited
[DEBUG][2024-12-11 23:50:19][wechat_channel.py:154] - Login success
[INFO][2024-12-11 23:50:19][wechat_channel.py:134] - Wechat login success, user_id: @81112311ee898bee6603a5c8c30bf8f222f48092e87f4f0178000f21695dc99c, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-11 23:50:27][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "589417336326418535", "FromUserName": "@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa", "ToUserName": "@81112311ee898bee6603a5c8c30bf8f222f48092e87f4f0178000f21695dc99c", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733932227, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 589417336326418535, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa&skey=@crypt_5af1fb51_bd25302c509be8d9b74d5c751d2eb500", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=589417336326418535, create_time=1733932227, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa, from_user_nickname=é˜¿é»˜, to_user_id=@81112311ee898bee6603a5c8c30bf8f222f48092e87f4f0178000f21695dc99c, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-11 23:50:27][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fa1edc0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa', 'receiver': '@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa'})
[DEBUG][2024-12-11 23:50:27][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fa1edc0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa', 'receiver': '@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa'})
[DEBUG][2024-12-11 23:50:27][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:50:27][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:50:27][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:50:27][bazi.py:5115] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-11 23:50:27][bazi.py:5122] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:50:27][bazi.py:5136] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-11 23:50:27][bazi.py:5147] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-11 23:50:27][bazi.py:5052] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®: {kwargs}
[DEBUG][2024-12-11 23:50:27][bazi.py:5058] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-11 23:50:27][bazi.py:5105] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[ERROR][2024-12-11 23:50:27][bazi.py:5215] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²'
[DEBUG][2024-12-11 23:50:27][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-11 23:50:27][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²')
[DEBUG][2024-12-11 23:50:27][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fa1edc0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa', 'receiver': '@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa'})
[INFO][2024-12-11 23:50:28][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²'), receiver=@1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa
[DEBUG][2024-12-11 23:50:28][chat_channel.py:300] - Worker return success, session_id = @1efad81410f16be02d28f45cf6b6ee7e781366f53659c6eab27bfa0c33a45faa
[INFO][2024-12-12 00:09:24][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 00:09:24][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 00:09:25][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 00:09:25][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 00:09:33][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 00:09:33][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 00:09:33][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 00:09:33][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 00:09:33][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 00:09:33][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 00:09:33][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 00:09:33][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 00:09:33][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 00:09:33][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 00:09:33][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 00:09:33][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1874ã€‚
[INFO][2024-12-12 00:09:33][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 00:09:33][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 00:09:33][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 00:09:33][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 00:09:55][wechat_channel.py:154] - Login success
[INFO][2024-12-12 00:09:55][wechat_channel.py:134] - Wechat login success, user_id: @1631a52a71e9be9773929cffddb0938f4a22b423677d0be2d4bc0f6ba204479b, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 00:10:04][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "8578480612216905075", "FromUserName": "@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017", "ToUserName": "@1631a52a71e9be9773929cffddb0938f4a22b423677d0be2d4bc0f6ba204479b", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733933406, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 8578480612216905075, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017&skey=@crypt_5af1fb51_3764963c8a14ecfe4983aae327565c44", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=8578480612216905075, create_time=1733933406, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017, from_user_nickname=é˜¿é»˜, to_user_id=@1631a52a71e9be9773929cffddb0938f4a22b423677d0be2d4bc0f6ba204479b, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 00:10:04][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110201d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017', 'receiver': '@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017'})
[DEBUG][2024-12-12 00:10:04][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110201d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017', 'receiver': '@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017'})
[DEBUG][2024-12-12 00:10:04][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 00:10:04][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 00:10:04][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 00:10:04][bazi.py:5117] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 00:10:04][bazi.py:5124] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 00:10:04][bazi.py:5138] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 00:10:04][bazi.py:5149] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 00:10:04][bazi.py:5039] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 00:10:04][bazi.py:5060] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[ERROR][2024-12-12 00:10:04][bazi.py:5109] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: local variable 'ba' referenced before assignment
[ERROR][2024-12-12 00:10:04][bazi.py:5217] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—'
[DEBUG][2024-12-12 00:10:04][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 00:10:04][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—')
[DEBUG][2024-12-12 00:10:04][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110201d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017', 'receiver': '@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017'})
[INFO][2024-12-12 00:10:05][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—'), receiver=@d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017
[DEBUG][2024-12-12 00:10:05][chat_channel.py:300] - Worker return success, session_id = @d5c12faad28b7c428d47114099bddbbfdc3ea4a0cf103713427d163a6fe50017
[INFO][2024-12-12 00:11:51][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 00:11:51][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 00:11:52][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 00:11:52][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 01:01:59][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 01:01:59][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 01:01:59][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 01:01:59][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 01:01:59][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 01:01:59][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 01:01:59][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 01:01:59][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 01:01:59][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 01:01:59][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 01:01:59][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 01:01:59][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0523ã€‚
[INFO][2024-12-12 01:01:59][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 01:01:59][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 01:01:59][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 01:01:59][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 01:02:24][wechat_channel.py:154] - Login success
[INFO][2024-12-12 01:02:24][wechat_channel.py:134] - Wechat login success, user_id: @933bff70a86142e0b29f501bb1b6c8bacd6e1666ee4405b4c05466d07d10f862, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 01:02:31][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "8831127393346316561", "FromUserName": "@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82", "ToUserName": "@933bff70a86142e0b29f501bb1b6c8bacd6e1666ee4405b4c05466d07d10f862", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733936552, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 8831127393346316561, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82&skey=@crypt_5af1fb51_d0ffd3461e5605c6bbbe92b65e31d20b", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=8831127393346316561, create_time=1733936552, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82, from_user_nickname=é˜¿é»˜, to_user_id=@933bff70a86142e0b29f501bb1b6c8bacd6e1666ee4405b4c05466d07d10f862, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 01:02:31][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e5ead00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82', 'receiver': '@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82'})
[DEBUG][2024-12-12 01:02:31][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e5ead00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82', 'receiver': '@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82'})
[DEBUG][2024-12-12 01:02:31][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 01:02:31][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 01:02:31][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 01:02:31][bazi.py:5119] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 01:02:31][bazi.py:5126] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 01:02:31][bazi.py:5140] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 01:02:31][bazi.py:5151] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 01:02:31][bazi.py:5039] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 01:02:31][bazi.py:5061] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 01:02:31][bazi.py:5078] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 01:02:31][bazi.py:5109] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[ERROR][2024-12-12 01:02:31][bazi.py:5219] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—'
[DEBUG][2024-12-12 01:02:31][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 01:02:31][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—')
[DEBUG][2024-12-12 01:02:31][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e5ead00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82', 'receiver': '@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82'})
[INFO][2024-12-12 01:02:32][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åå­—'), receiver=@de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82
[DEBUG][2024-12-12 01:02:32][chat_channel.py:300] - Worker return success, session_id = @de1b348296200134e2eeba08687ea6c28e706e8db2302a4fa341644309444c82
[INFO][2024-12-12 01:24:22][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 01:24:22][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 01:24:22][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 01:24:22][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 01:24:36][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 01:24:36][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 01:24:36][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 01:24:37][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 01:24:37][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 01:24:37][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 01:24:37][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 01:24:37][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 01:24:37][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 01:24:37][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 01:24:37][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 01:24:37][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6541ã€‚
[INFO][2024-12-12 01:24:37][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 01:24:37][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 01:24:37][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 01:24:37][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 01:25:01][wechat_channel.py:154] - Login success
[INFO][2024-12-12 01:25:01][wechat_channel.py:134] - Wechat login success, user_id: @9c3ebba94bb6fa98e76c27dc413beec4e342be0e1a39e41d45d6fe709be4a7ec, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 01:25:14][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "5741416909074137218", "FromUserName": "@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3", "ToUserName": "@9c3ebba94bb6fa98e76c27dc413beec4e342be0e1a39e41d45d6fe709be4a7ec", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733937916, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 5741416909074137218, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3&skey=@crypt_5af1fb51_cc56f2601e114d74db65b0a1e9154b95", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=5741416909074137218, create_time=1733937916, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3, from_user_nickname=é˜¿é»˜, to_user_id=@9c3ebba94bb6fa98e76c27dc413beec4e342be0e1a39e41d45d6fe709be4a7ec, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 01:25:14][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fb80d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3', 'receiver': '@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3'})
[DEBUG][2024-12-12 01:25:14][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fb80d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3', 'receiver': '@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3'})
[DEBUG][2024-12-12 01:25:14][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 01:25:14][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 01:25:14][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 01:25:14][bazi.py:5124] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 01:25:14][bazi.py:5131] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 01:25:14][bazi.py:5145] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 01:25:14][bazi.py:5156] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 01:25:14][bazi.py:5039] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 01:25:14][bazi.py:5066] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 01:25:14][bazi.py:5083] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 01:25:14][bazi.py:5114] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[ERROR][2024-12-12 01:25:14][bazi.py:5224] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'BaziPlugin' object has no attribute 'åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç”Ÿæ‰¶å—åˆ¶'
[DEBUG][2024-12-12 01:25:14][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 01:25:14][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'BaziPlugin' object has no attribute 'åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç”Ÿæ‰¶å—åˆ¶')
[DEBUG][2024-12-12 01:25:14][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'BaziPlugin' object has no attribute 'åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç”Ÿæ‰¶å—åˆ¶'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fb80d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3', 'receiver': '@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3'})
[INFO][2024-12-12 01:25:14][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'BaziPlugin' object has no attribute 'åˆ¤æ–­ä¸¤è€…æ˜¯å¦ç”Ÿæ‰¶å—åˆ¶'), receiver=@1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3
[DEBUG][2024-12-12 01:25:14][chat_channel.py:300] - Worker return success, session_id = @1371067c35eeedd8a5878c95013bb63faac846384c92ed88be3e5541ac300ef3
[INFO][2024-12-12 02:00:01][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 02:00:01][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 02:00:02][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 02:00:02][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 02:00:10][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 02:00:10][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 02:00:10][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 02:00:11][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 02:00:11][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 02:00:11][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 02:00:11][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 02:00:11][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 02:00:11][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 02:00:11][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 02:00:11][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 02:00:11][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4697ã€‚
[INFO][2024-12-12 02:00:11][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 02:00:11][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 02:00:11][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 02:00:11][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 02:00:44][wechat_channel.py:154] - Login success
[INFO][2024-12-12 02:00:44][wechat_channel.py:134] - Wechat login success, user_id: @05f2e053e557e9530a952addb736619d8745f645734d3f46efee97d143501df6, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 02:00:55][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "879231204515152393", "FromUserName": "@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44", "ToUserName": "@05f2e053e557e9530a952addb736619d8745f645734d3f46efee97d143501df6", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733940054, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 879231204515152393, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44&skey=@crypt_5af1fb51_3f69bb7c1c752ff6ce7e0e87e4d337f6", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=879231204515152393, create_time=1733940054, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44, from_user_nickname=é˜¿é»˜, to_user_id=@05f2e053e557e9530a952addb736619d8745f645734d3f46efee97d143501df6, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 02:00:55][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fa477f0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44', 'receiver': '@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44'})
[DEBUG][2024-12-12 02:00:55][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fa477f0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44', 'receiver': '@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44'})
[DEBUG][2024-12-12 02:00:55][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 02:00:55][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 02:00:55][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 02:00:55][bazi.py:5205] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 02:00:55][bazi.py:5212] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 02:00:55][bazi.py:5226] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 02:00:55][bazi.py:5237] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 02:00:55][bazi.py:5120] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 02:00:55][bazi.py:5147] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 02:00:55][bazi.py:5164] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 02:00:55][bazi.py:5195] - [BaziPlugin] å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[ERROR][2024-12-12 02:00:55][bazi.py:5305] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: æŸ¥æ‰¾äºŒçº§é”®å¯¹åº”çš„ä¸€çº§é”®() missing 1 required positional argument: 'é”®'
[DEBUG][2024-12-12 02:00:55][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 02:00:55][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: æŸ¥æ‰¾äºŒçº§é”®å¯¹åº”çš„ä¸€çº§é”®() missing 1 required positional argument: 'é”®')
[DEBUG][2024-12-12 02:00:55][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: æŸ¥æ‰¾äºŒçº§é”®å¯¹åº”çš„ä¸€çº§é”®() missing 1 required positional argument: 'é”®'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fa477f0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44', 'receiver': '@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44'})
[INFO][2024-12-12 02:00:56][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: æŸ¥æ‰¾äºŒçº§é”®å¯¹åº”çš„ä¸€çº§é”®() missing 1 required positional argument: 'é”®'), receiver=@5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44
[DEBUG][2024-12-12 02:00:56][chat_channel.py:300] - Worker return success, session_id = @5b74f73b7e3bbc41d363bbb0572a7183bdf57c210c253781db1018bba81f0c44
[INFO][2024-12-12 02:09:05][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 02:09:05][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 02:09:06][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 02:09:06][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 02:09:14][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 02:09:14][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 02:09:14][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 02:09:14][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 02:09:14][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 02:09:14][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 02:09:14][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 02:09:14][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 02:09:14][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 02:09:14][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 02:09:14][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 02:09:14][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1574ã€‚
[INFO][2024-12-12 02:09:14][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 02:09:14][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 02:09:14][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 02:09:14][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 02:09:39][wechat_channel.py:154] - Login success
[INFO][2024-12-12 02:09:39][wechat_channel.py:134] - Wechat login success, user_id: @45948fd604605d490145b07a523e6e851b95a3ca3ee0709cb41035e4294074b5, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 02:09:48][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "5235514189836397526", "FromUserName": "@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32", "ToUserName": "@45948fd604605d490145b07a523e6e851b95a3ca3ee0709cb41035e4294074b5", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733940588, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 5235514189836397526, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32&skey=@crypt_5af1fb51_baf507ffa2a41b0dd17d7e3e39a391f2", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=5235514189836397526, create_time=1733940588, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32, from_user_nickname=é˜¿é»˜, to_user_id=@45948fd604605d490145b07a523e6e851b95a3ca3ee0709cb41035e4294074b5, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 02:09:49][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e766dc0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32', 'receiver': '@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32'})
[DEBUG][2024-12-12 02:09:49][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e766dc0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32', 'receiver': '@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32'})
[DEBUG][2024-12-12 02:09:49][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 02:09:49][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 02:09:49][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 02:09:49][bazi.py:5205] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 02:09:49][bazi.py:5212] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 02:09:49][bazi.py:5226] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 02:09:49][bazi.py:5237] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 02:09:49][bazi.py:5120] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 02:09:49][bazi.py:5147] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 02:09:49][bazi.py:5164] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 02:09:49][bazi.py:5195] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[ERROR][2024-12-12 02:09:49][bazi.py:5305] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: argument of type 'NoneType' is not iterable
[DEBUG][2024-12-12 02:09:49][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 02:09:49][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: argument of type 'NoneType' is not iterable)
[DEBUG][2024-12-12 02:09:49][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: argument of type 'NoneType' is not iterable), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e766dc0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32', 'receiver': '@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32'})
[INFO][2024-12-12 02:09:49][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: argument of type 'NoneType' is not iterable), receiver=@41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32
[DEBUG][2024-12-12 02:09:49][chat_channel.py:300] - Worker return success, session_id = @41bff6f0233a8defed05b05a99ea9c2485bb0bbebe55b4572a57bf4740be0c32
[INFO][2024-12-12 12:31:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 12:31:56][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 12:32:13][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 12:32:13][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 12:32:13][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 12:32:13][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 12:32:13][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 12:32:13][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 12:32:13][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 12:32:13][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 12:32:13][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 12:32:13][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 12:32:13][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 12:32:13][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1607ã€‚
[INFO][2024-12-12 12:32:13][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 12:32:13][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 12:32:13][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 12:32:13][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 12:32:51][wechat_channel.py:154] - Login success
[INFO][2024-12-12 12:32:51][wechat_channel.py:134] - Wechat login success, user_id: @62a30d687f9830bf6902fd3e37516b7a0a9299a68337dd8c336f4902fa59de66, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 12:33:02][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "8579817799290546364", "FromUserName": "@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825", "ToUserName": "@62a30d687f9830bf6902fd3e37516b7a0a9299a68337dd8c336f4902fa59de66", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733977982, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 8579817799290546364, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825&skey=@crypt_5af1fb51_c543ce2e3600f942a5675fd8cbce0e98", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=8579817799290546364, create_time=1733977982, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825, from_user_nickname=é˜¿é»˜, to_user_id=@62a30d687f9830bf6902fd3e37516b7a0a9299a68337dd8c336f4902fa59de66, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 12:33:02][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fc55d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825', 'receiver': '@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825'})
[DEBUG][2024-12-12 12:33:02][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fc55d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825', 'receiver': '@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825'})
[DEBUG][2024-12-12 12:33:02][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:33:02][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:33:02][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:33:02][bazi.py:5224] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 12:33:02][bazi.py:5231] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:33:02][bazi.py:5245] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:33:02][bazi.py:5256] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 12:33:02][bazi.py:5133] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[ERROR][2024-12-12 12:33:02][bazi.py:5159] - [BaziPlugin] æœ¬å‘½ç›˜å¤©å¹²åœ°æ”¯åˆ—è¡¨ä¸ºç©º
[ERROR][2024-12-12 12:33:02][bazi.py:5324] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²'
[DEBUG][2024-12-12 12:33:02][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:33:02][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²')
[DEBUG][2024-12-12 12:33:02][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fc55d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825', 'receiver': '@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825'})
[INFO][2024-12-12 12:33:03][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'æ—¥å¹²'), receiver=@eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825
[DEBUG][2024-12-12 12:33:03][chat_channel.py:300] - Worker return success, session_id = @eaf1c3cfce508e655cee4c793dbbedf00386b291525d78edbaa09dd7a21fc825
[INFO][2024-12-12 12:40:48][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 12:40:48][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 12:40:48][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 12:40:48][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 12:40:58][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 12:40:58][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 12:40:58][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 12:40:59][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 12:40:59][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 12:40:59][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 12:40:59][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 12:40:59][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 12:40:59][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 12:40:59][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 12:40:59][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 12:40:59][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4312ã€‚
[INFO][2024-12-12 12:40:59][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 12:40:59][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 12:40:59][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 12:40:59][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 12:41:25][wechat_channel.py:154] - Login success
[INFO][2024-12-12 12:41:25][wechat_channel.py:134] - Wechat login success, user_id: @af6c44a094736d993e03d33b83dfd47fe55f12d8202874de0ddc072784d515b1, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 12:41:41][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "8041288017971849373", "FromUserName": "@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671", "ToUserName": "@af6c44a094736d993e03d33b83dfd47fe55f12d8202874de0ddc072784d515b1", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733978500, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 8041288017971849373, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671&skey=@crypt_5af1fb51_fb31298741d58182e2850631fc5a388e", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=8041288017971849373, create_time=1733978500, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671, from_user_nickname=é˜¿é»˜, to_user_id=@af6c44a094736d993e03d33b83dfd47fe55f12d8202874de0ddc072784d515b1, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 12:41:41][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fd5ed30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671', 'receiver': '@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671'})
[DEBUG][2024-12-12 12:41:41][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fd5ed30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671', 'receiver': '@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671'})
[DEBUG][2024-12-12 12:41:41][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:41:41][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:41:41][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:41:41][bazi.py:5233] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 12:41:41][bazi.py:5240] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:41:41][bazi.py:5254] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:41:41][bazi.py:5265] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 12:41:41][bazi.py:5133] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 12:41:41][bazi.py:5161] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 12:41:41][bazi.py:5178] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 12:41:41][bazi.py:5208] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 12:41:41][bazi.py:5217] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 12:41:41][bazi.py:5221] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[ERROR][2024-12-12 12:41:41][bazi.py:5333] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 12:41:41][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:41:41][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 12:41:41][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fd5ed30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671', 'receiver': '@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671'})
[INFO][2024-12-12 12:41:41][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), receiver=@4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671
[DEBUG][2024-12-12 12:41:41][chat_channel.py:300] - Worker return success, session_id = @4f01ef67d23f0705447b44340420a1db30089e87dcf40b025fbcca2c023c7671
[INFO][2024-12-12 12:47:01][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 12:47:01][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 12:47:01][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 12:47:01][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 12:47:26][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 12:47:26][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 12:47:26][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 12:47:26][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 12:47:26][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 12:47:26][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 12:47:26][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 12:47:26][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 12:47:26][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 12:47:26][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 12:47:26][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 12:47:26][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1260ã€‚
[INFO][2024-12-12 12:47:26][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 12:47:26][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 12:47:26][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 12:47:26][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 12:47:43][wechat_channel.py:154] - Login success
[INFO][2024-12-12 12:47:43][wechat_channel.py:134] - Wechat login success, user_id: @cd922f04786f4cd53bc91dbd6c78431aea4d4bd6fc52197f881c2be38e35446b, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 12:48:03][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "861642283539362202", "FromUserName": "@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64", "ToUserName": "@cd922f04786f4cd53bc91dbd6c78431aea4d4bd6fc52197f881c2be38e35446b", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733978882, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 861642283539362202, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64&skey=@crypt_5af1fb51_90dfc10d4d14e997772b8897122f9b62", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=861642283539362202, create_time=1733978882, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64, from_user_nickname=é˜¿é»˜, to_user_id=@cd922f04786f4cd53bc91dbd6c78431aea4d4bd6fc52197f881c2be38e35446b, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 12:48:03][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10de4cb80>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64', 'receiver': '@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64'})
[DEBUG][2024-12-12 12:48:03][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10de4cb80>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64', 'receiver': '@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64'})
[DEBUG][2024-12-12 12:48:03][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:48:03][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:48:03][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:48:03][bazi.py:5240] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 12:48:03][bazi.py:5247] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:48:03][bazi.py:5261] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 12:48:03][bazi.py:5272] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 12:48:03][bazi.py:5140] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 12:48:03][bazi.py:5168] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 12:48:03][bazi.py:5185] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 12:48:03][bazi.py:5215] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 12:48:03][bazi.py:5224] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 12:48:03][bazi.py:5228] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[ERROR][2024-12-12 12:48:03][bazi.py:5340] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 12:48:03][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 12:48:03][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 12:48:03][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10de4cb80>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64', 'receiver': '@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64'})
[INFO][2024-12-12 12:48:03][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), receiver=@13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64
[DEBUG][2024-12-12 12:48:03][chat_channel.py:300] - Worker return success, session_id = @13630a6ff7b07ac8946e2b702b41a8541c46c178e43db9893a03e6b33b1d5c64
[INFO][2024-12-12 13:02:20][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:02:20][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 13:02:21][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:02:21][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 13:03:45][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 13:03:45][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 13:03:45][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 13:03:45][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 13:03:45][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 13:03:45][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 13:03:45][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 13:03:45][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 13:03:45][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 13:03:45][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 13:03:45][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 13:03:45][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º3106ã€‚
[INFO][2024-12-12 13:03:45][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 13:03:45][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:03:45][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:03:45][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 13:04:02][wechat_channel.py:154] - Login success
[INFO][2024-12-12 13:04:02][wechat_channel.py:134] - Wechat login success, user_id: @2e98a3fe9a5bd185b28dad1cf036cf4f886a4f8dc61676ae6c0266f4091f588a, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 13:04:18][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "6402146694960404051", "FromUserName": "@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a", "ToUserName": "@2e98a3fe9a5bd185b28dad1cf036cf4f886a4f8dc61676ae6c0266f4091f588a", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733979858, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 6402146694960404051, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a&skey=@crypt_5af1fb51_7b0bc5a5528a1fdff3d735171475a9db", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=6402146694960404051, create_time=1733979858, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a, from_user_nickname=é˜¿é»˜, to_user_id=@2e98a3fe9a5bd185b28dad1cf036cf4f886a4f8dc61676ae6c0266f4091f588a, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 13:04:18][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110824d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a', 'receiver': '@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a'})
[DEBUG][2024-12-12 13:04:18][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110824d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a', 'receiver': '@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a'})
[DEBUG][2024-12-12 13:04:18][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:04:18][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:04:18][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:04:18][bazi.py:5260] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 13:04:18][bazi.py:5267] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:04:18][bazi.py:5281] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:04:18][bazi.py:5292] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 13:04:18][bazi.py:5145] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 13:04:18][bazi.py:5173] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 13:04:18][bazi.py:5190] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 13:04:18][bazi.py:5220] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 13:04:18][bazi.py:5229] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 13:04:18][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 13:04:18][bazi.py:5243] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: 'list' object has no attribute 'day'
[ERROR][2024-12-12 13:04:18][bazi.py:5251] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: 'list' object has no attribute 'day'
[ERROR][2024-12-12 13:04:18][bazi.py:5360] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'list' object has no attribute 'day'
[DEBUG][2024-12-12 13:04:18][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:04:18][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'list' object has no attribute 'day')
[DEBUG][2024-12-12 13:04:18][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'list' object has no attribute 'day'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110824d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a', 'receiver': '@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a'})
[INFO][2024-12-12 13:04:18][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'list' object has no attribute 'day'), receiver=@c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a
[DEBUG][2024-12-12 13:04:18][chat_channel.py:300] - Worker return success, session_id = @c630628a9fbdcba5e28dd9ecc6fc339008a7eea3b2dd439211ea75d7baa6370a
[INFO][2024-12-12 13:08:10][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:08:10][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 13:08:10][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:08:10][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 13:08:34][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 13:08:34][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 13:08:34][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 13:08:34][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 13:08:34][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 13:08:34][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 13:08:34][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 13:08:34][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 13:08:34][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 13:08:34][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 13:08:34][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 13:08:34][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6732ã€‚
[INFO][2024-12-12 13:08:34][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 13:08:34][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:08:34][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:08:34][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 13:08:50][wechat_channel.py:154] - Login success
[INFO][2024-12-12 13:08:50][wechat_channel.py:134] - Wechat login success, user_id: @ac46c130b9c25bc63f3c411fa6584a3c2f62eb042ab99f70bcfa7b720bba89f7, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 13:09:28][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "3867561080268046834", "FromUserName": "@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786", "ToUserName": "@ac46c130b9c25bc63f3c411fa6584a3c2f62eb042ab99f70bcfa7b720bba89f7", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733980167, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 3867561080268046834, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786&skey=@crypt_5af1fb51_49faa1b74124283d51b7a85c941c0ab0", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=3867561080268046834, create_time=1733980167, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786, from_user_nickname=é˜¿é»˜, to_user_id=@ac46c130b9c25bc63f3c411fa6584a3c2f62eb042ab99f70bcfa7b720bba89f7, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 13:09:28][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bba6d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786', 'receiver': '@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786'})
[DEBUG][2024-12-12 13:09:28][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bba6d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786', 'receiver': '@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786'})
[DEBUG][2024-12-12 13:09:28][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:09:28][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:09:28][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:09:28][bazi.py:5260] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 13:09:28][bazi.py:5267] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:09:28][bazi.py:5281] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:09:28][bazi.py:5292] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 13:09:28][bazi.py:5145] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 13:09:28][bazi.py:5173] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 13:09:28][bazi.py:5190] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 13:09:28][bazi.py:5220] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 13:09:28][bazi.py:5229] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 13:09:28][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 13:09:28][bazi.py:5243] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: 'list' object has no attribute 'year'
[ERROR][2024-12-12 13:09:28][bazi.py:5251] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: 'list' object has no attribute 'year'
[ERROR][2024-12-12 13:09:28][bazi.py:5360] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'list' object has no attribute 'year'
[DEBUG][2024-12-12 13:09:28][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:09:28][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'list' object has no attribute 'year')
[DEBUG][2024-12-12 13:09:28][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'list' object has no attribute 'year'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10bba6d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786', 'receiver': '@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786'})
[INFO][2024-12-12 13:09:28][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'list' object has no attribute 'year'), receiver=@147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786
[DEBUG][2024-12-12 13:09:28][chat_channel.py:300] - Worker return success, session_id = @147cfa01faa2defb24cbfd253b0c3badaf7033feb6ff9b82039d684254250786
[INFO][2024-12-12 13:11:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:11:56][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 13:11:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:11:56][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 13:25:12][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 13:25:12][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 13:25:12][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 13:25:12][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 13:25:12][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 13:25:12][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 13:25:12][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 13:25:12][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 13:25:12][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 13:25:12][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 13:25:12][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 13:25:12][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8239ã€‚
[INFO][2024-12-12 13:25:12][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 13:25:12][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:25:12][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:25:12][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 13:25:43][wechat_channel.py:154] - Login success
[INFO][2024-12-12 13:25:43][wechat_channel.py:134] - Wechat login success, user_id: @8c3569e074d3fee7739db482296c4e43a2a7510a1242cf109e8b3dfed7231b5a, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 13:25:54][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "8898540813982546446", "FromUserName": "@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29", "ToUserName": "@8c3569e074d3fee7739db482296c4e43a2a7510a1242cf109e8b3dfed7231b5a", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733981153, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 8898540813982546446, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29&skey=@crypt_5af1fb51_bf98d710e3b72355cfe611611c8fc318", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=8898540813982546446, create_time=1733981153, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29, from_user_nickname=é˜¿é»˜, to_user_id=@8c3569e074d3fee7739db482296c4e43a2a7510a1242cf109e8b3dfed7231b5a, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 13:25:54][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10f8c7d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29', 'receiver': '@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29'})
[DEBUG][2024-12-12 13:25:54][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10f8c7d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29', 'receiver': '@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29'})
[DEBUG][2024-12-12 13:25:54][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:25:54][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:25:54][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:25:54][bazi.py:5270] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 13:25:54][bazi.py:5277] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:25:54][bazi.py:5291] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:25:54][bazi.py:5302] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 13:25:54][bazi.py:5155] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 13:25:54][bazi.py:5183] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 13:25:54][bazi.py:5200] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 13:25:54][bazi.py:5230] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 13:25:54][bazi.py:5239] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 13:25:54][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 13:25:54][bazi.py:5253] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 13:25:54][bazi.py:5261] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 13:25:54][bazi.py:5370] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 13:25:54][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:25:54][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 13:25:54][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10f8c7d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29', 'receiver': '@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29'})
[INFO][2024-12-12 13:25:54][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), receiver=@71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29
[DEBUG][2024-12-12 13:25:54][chat_channel.py:300] - Worker return success, session_id = @71b7b3526ae4fe651913c6bdb55b947ac0cfece447807f0b64b0452839c8af29
[INFO][2024-12-12 13:31:31][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:31:31][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 13:31:31][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:31:31][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 13:49:59][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 13:49:59][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 13:49:59][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 13:49:59][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 13:49:59][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 13:49:59][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 13:49:59][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 13:49:59][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 13:49:59][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 13:49:59][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 13:49:59][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 13:49:59][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6972ã€‚
[INFO][2024-12-12 13:49:59][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 13:49:59][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:49:59][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:49:59][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 13:50:31][wechat_channel.py:154] - Login success
[INFO][2024-12-12 13:50:31][wechat_channel.py:134] - Wechat login success, user_id: @4eb24f777ccb6a5df9e217fa2ed806b7861aacc2f9dab1bc3809810b96002ceb, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 13:51:03][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "5739662754796461350", "FromUserName": "@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1", "ToUserName": "@4eb24f777ccb6a5df9e217fa2ed806b7861aacc2f9dab1bc3809810b96002ceb", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733982662, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 5739662754796461350, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1&skey=@crypt_5af1fb51_f5e139732442c5ba79d16e9409e64630", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=5739662754796461350, create_time=1733982662, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1, from_user_nickname=é˜¿é»˜, to_user_id=@4eb24f777ccb6a5df9e217fa2ed806b7861aacc2f9dab1bc3809810b96002ceb, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 13:51:03][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e501d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1', 'receiver': '@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1'})
[DEBUG][2024-12-12 13:51:03][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e501d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1', 'receiver': '@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1'})
[DEBUG][2024-12-12 13:51:03][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:51:03][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:51:03][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:51:03][bazi.py:5266] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 13:51:03][bazi.py:5273] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:51:03][bazi.py:5287] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:51:03][bazi.py:5298] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 13:51:03][bazi.py:5151] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 13:51:03][bazi.py:5179] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 13:51:03][bazi.py:5196] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 13:51:03][bazi.py:5226] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 13:51:03][bazi.py:5235] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 13:51:03][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 13:51:03][bazi.py:5249] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 13:51:03][bazi.py:5257] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 13:51:03][bazi.py:5366] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 13:51:03][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:51:03][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 13:51:03][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e501d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1', 'receiver': '@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1'})
[INFO][2024-12-12 13:51:03][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), receiver=@e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1
[DEBUG][2024-12-12 13:51:03][chat_channel.py:300] - Worker return success, session_id = @e1b3ade719a1695b52427aad57a401f187183a5e17fb54abcbf5380dda1a64b1
[INFO][2024-12-12 13:59:13][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:59:13][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 13:59:13][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 13:59:13][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 13:59:19][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 13:59:19][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 13:59:19][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 13:59:19][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 13:59:19][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 13:59:19][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 13:59:19][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 13:59:19][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 13:59:19][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 13:59:19][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 13:59:19][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 13:59:19][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1736ã€‚
[INFO][2024-12-12 13:59:19][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 13:59:19][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:59:19][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 13:59:19][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 13:59:49][wechat_channel.py:154] - Login success
[INFO][2024-12-12 13:59:49][wechat_channel.py:134] - Wechat login success, user_id: @2a999940bfe2f19d091b01130dc8718ace797c0340c95e686ee7ac7f73e903ae, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 13:59:56][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "3667562681078718676", "FromUserName": "@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed", "ToUserName": "@2a999940bfe2f19d091b01130dc8718ace797c0340c95e686ee7ac7f73e903ae", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733983196, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 3667562681078718676, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed&skey=@crypt_5af1fb51_0758a7c9d6a1de24b9fcb34adcb9d14f", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=3667562681078718676, create_time=1733983196, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed, from_user_nickname=é˜¿é»˜, to_user_id=@2a999940bfe2f19d091b01130dc8718ace797c0340c95e686ee7ac7f73e903ae, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 13:59:56][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fbc5d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed', 'receiver': '@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed'})
[DEBUG][2024-12-12 13:59:56][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fbc5d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed', 'receiver': '@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed'})
[DEBUG][2024-12-12 13:59:56][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:59:56][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:59:56][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:59:56][bazi.py:5266] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 13:59:56][bazi.py:5273] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:59:56][bazi.py:5287] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 13:59:56][bazi.py:5298] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 13:59:56][bazi.py:5151] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 13:59:56][bazi.py:5179] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 13:59:56][bazi.py:5196] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 13:59:56][bazi.py:5226] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 13:59:56][bazi.py:5235] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 13:59:56][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 13:59:56][bazi.py:5249] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 13:59:56][bazi.py:5257] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 13:59:56][bazi.py:5366] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 13:59:56][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 13:59:56][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 13:59:56][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fbc5d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed', 'receiver': '@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed'})
[INFO][2024-12-12 13:59:56][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), receiver=@b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed
[DEBUG][2024-12-12 13:59:56][chat_channel.py:300] - Worker return success, session_id = @b65ea184c85e0278ec15327391d80ab181b20b26adaf373eb1e5e1372736f3ed
[INFO][2024-12-12 14:02:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:02:56][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 14:02:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:02:56][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 14:03:03][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 14:03:03][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 14:03:03][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 14:03:03][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 14:03:03][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 14:03:03][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 14:03:03][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 14:03:03][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 14:03:03][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 14:03:03][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 14:03:03][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 14:03:03][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1324ã€‚
[INFO][2024-12-12 14:03:03][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 14:03:03][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:03:03][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:03:03][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 14:03:25][wechat_channel.py:154] - Login success
[INFO][2024-12-12 14:03:25][wechat_channel.py:134] - Wechat login success, user_id: @0415c2f48913b8a9a596daeb38e0b19f144eb0ca7497d5d6282a1c48d039d3e2, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 14:03:31][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "5118430208142166195", "FromUserName": "@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488", "ToUserName": "@0415c2f48913b8a9a596daeb38e0b19f144eb0ca7497d5d6282a1c48d039d3e2", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733983410, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 5118430208142166195, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488&skey=@crypt_5af1fb51_3880695137c20ae221db5cdaa137dc68", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=5118430208142166195, create_time=1733983410, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488, from_user_nickname=é˜¿é»˜, to_user_id=@0415c2f48913b8a9a596daeb38e0b19f144eb0ca7497d5d6282a1c48d039d3e2, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 14:03:31][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e082d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488', 'receiver': '@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488'})
[DEBUG][2024-12-12 14:03:31][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e082d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488', 'receiver': '@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488'})
[DEBUG][2024-12-12 14:03:31][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:03:31][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:03:31][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:03:31][bazi.py:5266] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 14:03:31][bazi.py:5273] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:03:31][bazi.py:5287] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:03:31][bazi.py:5298] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 14:03:31][bazi.py:5151] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 14:03:31][bazi.py:5179] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 14:03:31][bazi.py:5196] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 14:03:31][bazi.py:5226] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 14:03:31][bazi.py:5235] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 14:03:31][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 14:03:31][bazi.py:5249] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 14:03:31][bazi.py:5257] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[ERROR][2024-12-12 14:03:31][bazi.py:5366] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 14:03:31][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:03:31][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 14:03:31][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e082d60>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488', 'receiver': '@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488'})
[INFO][2024-12-12 14:03:31][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'å…«å­—ä¿¡æ¯ä¸»å­—å…¸' referenced before assignment), receiver=@7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488
[DEBUG][2024-12-12 14:03:31][chat_channel.py:300] - Worker return success, session_id = @7c864175da7bfc0aab3dccdd98cb351ad8221f88921985c17173cebdfde74488
[INFO][2024-12-12 14:14:53][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:14:53][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 14:14:54][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:14:54][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 14:15:01][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 14:15:01][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 14:15:01][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 14:15:01][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 14:15:01][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 14:15:01][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 14:15:01][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 14:15:01][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 14:15:01][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 14:15:01][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 14:15:01][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 14:15:01][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2461ã€‚
[INFO][2024-12-12 14:15:01][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 14:15:01][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:15:01][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:15:01][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 14:15:21][wechat_channel.py:154] - Login success
[INFO][2024-12-12 14:15:21][wechat_channel.py:134] - Wechat login success, user_id: @cdd1d18cb7302b04a0a4c82ab6552e244b6b7b618f4681b70219f639baff63ed, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 14:15:31][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "1440342645264247422", "FromUserName": "@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1", "ToUserName": "@cdd1d18cb7302b04a0a4c82ab6552e244b6b7b618f4681b70219f639baff63ed", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733984131, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 1440342645264247422, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1&skey=@crypt_5af1fb51_47ded13fd090b99146b893e254a03fef", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=1440342645264247422, create_time=1733984131, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1, from_user_nickname=é˜¿é»˜, to_user_id=@cdd1d18cb7302b04a0a4c82ab6552e244b6b7b618f4681b70219f639baff63ed, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 14:15:31][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10b8a5cd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1', 'receiver': '@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1'})
[DEBUG][2024-12-12 14:15:31][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10b8a5cd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1', 'receiver': '@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1'})
[DEBUG][2024-12-12 14:15:31][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:15:31][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:15:31][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:15:31][bazi.py:5266] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 14:15:31][bazi.py:5273] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:15:31][bazi.py:5287] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:15:31][bazi.py:5298] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 14:15:31][bazi.py:5151] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 14:15:31][bazi.py:5179] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 14:15:31][bazi.py:5196] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 14:15:31][bazi.py:5226] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 14:15:31][bazi.py:5235] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 14:15:31][bazi.py:345] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 14:15:31][bazi.py:5249] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: local variable 'ä¸€çº§é”®2çš„å­å­—å…¸' referenced before assignment
[ERROR][2024-12-12 14:15:31][bazi.py:5257] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: local variable 'ä¸€çº§é”®2çš„å­å­—å…¸' referenced before assignment
[ERROR][2024-12-12 14:15:31][bazi.py:5366] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: local variable 'ä¸€çº§é”®2çš„å­å­—å…¸' referenced before assignment
[DEBUG][2024-12-12 14:15:31][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:15:31][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'ä¸€çº§é”®2çš„å­å­—å…¸' referenced before assignment)
[DEBUG][2024-12-12 14:15:31][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'ä¸€çº§é”®2çš„å­å­—å…¸' referenced before assignment), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10b8a5cd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1', 'receiver': '@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1'})
[INFO][2024-12-12 14:15:32][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: local variable 'ä¸€çº§é”®2çš„å­å­—å…¸' referenced before assignment), receiver=@f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1
[DEBUG][2024-12-12 14:15:32][chat_channel.py:300] - Worker return success, session_id = @f1aaf9cae8f988be5c54fdc86a52664dc254d853e9c0079cee27aeb85fb76ce1
[INFO][2024-12-12 14:19:19][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:19:19][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 14:19:19][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:19:19][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 14:23:08][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 14:23:08][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 14:23:08][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 14:23:08][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 14:23:08][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 14:23:08][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 14:23:08][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 14:23:08][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 14:23:08][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 14:23:08][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 14:23:08][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 14:23:08][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º8726ã€‚
[INFO][2024-12-12 14:23:08][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 14:23:08][bazi.py:187] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:23:08][bazi.py:205] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:23:08][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 14:23:30][wechat_channel.py:154] - Login success
[INFO][2024-12-12 14:23:30][wechat_channel.py:134] - Wechat login success, user_id: @0e6cd0473ffc03e5b0117c98876cd0c00e9da73e849952d405238c8e2bc4c2e7, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 14:23:36][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "3261109112421850341", "FromUserName": "@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc", "ToUserName": "@0e6cd0473ffc03e5b0117c98876cd0c00e9da73e849952d405238c8e2bc4c2e7", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733984616, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 3261109112421850341, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc&skey=@crypt_5af1fb51_1a95da1d05c3ce0bb1a939f8931bbf2d", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=3261109112421850341, create_time=1733984616, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc, from_user_nickname=é˜¿é»˜, to_user_id=@0e6cd0473ffc03e5b0117c98876cd0c00e9da73e849952d405238c8e2bc4c2e7, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 14:23:36][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110827d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc', 'receiver': '@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc'})
[DEBUG][2024-12-12 14:23:36][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110827d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc', 'receiver': '@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc'})
[DEBUG][2024-12-12 14:23:36][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:23:36][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:23:36][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:23:36][bazi.py:5269] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 14:23:36][bazi.py:5276] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:23:36][bazi.py:5290] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:23:36][bazi.py:5301] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 14:23:36][bazi.py:5154] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 14:23:36][bazi.py:5182] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 14:23:36][bazi.py:5199] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 14:23:36][bazi.py:5229] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 14:23:36][bazi.py:5238] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 14:23:36][bazi.py:348] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 14:23:36][bazi.py:5252] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: list index out of range
[ERROR][2024-12-12 14:23:36][bazi.py:5260] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: list index out of range
[ERROR][2024-12-12 14:23:36][bazi.py:5369] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: list index out of range
[DEBUG][2024-12-12 14:23:36][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:23:36][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: list index out of range)
[DEBUG][2024-12-12 14:23:36][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: list index out of range), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110827d30>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc', 'receiver': '@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc'})
[INFO][2024-12-12 14:23:37][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: list index out of range), receiver=@6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc
[DEBUG][2024-12-12 14:23:37][chat_channel.py:300] - Worker return success, session_id = @6932d8d324935c3823fe40772a41183e27828a1d63f22f8bd08942ef02d663fc
[INFO][2024-12-12 14:26:49][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:26:49][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 14:26:49][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:26:49][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 14:39:44][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 14:39:44][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 14:39:44][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 14:39:44][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 14:39:44][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 14:39:44][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 14:39:44][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 14:39:44][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 14:39:44][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 14:39:44][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 14:39:44][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 14:39:44][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º1489ã€‚
[INFO][2024-12-12 14:39:44][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 14:39:44][bazi.py:157] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:39:44][bazi.py:175] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:39:44][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 14:40:05][wechat_channel.py:154] - Login success
[INFO][2024-12-12 14:40:05][wechat_channel.py:134] - Wechat login success, user_id: @77fae6f9cbb1837792d673c153be4e1cdc99049223c8b541d25b9413b15051b3, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 14:40:11][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "7950754216748396496", "FromUserName": "@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409", "ToUserName": "@77fae6f9cbb1837792d673c153be4e1cdc99049223c8b541d25b9413b15051b3", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733985611, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 7950754216748396496, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409&skey=@crypt_5af1fb51_126036e19631b53029e712242d39af22", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=7950754216748396496, create_time=1733985611, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409, from_user_nickname=é˜¿é»˜, to_user_id=@77fae6f9cbb1837792d673c153be4e1cdc99049223c8b541d25b9413b15051b3, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 14:40:11][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x11043fcd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409', 'receiver': '@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409'})
[DEBUG][2024-12-12 14:40:11][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x11043fcd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409', 'receiver': '@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409'})
[DEBUG][2024-12-12 14:40:11][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:40:11][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:40:11][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:40:11][bazi.py:5217] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 14:40:11][bazi.py:5224] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:40:11][bazi.py:5238] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:40:11][bazi.py:5249] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 14:40:11][bazi.py:5102] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 14:40:11][bazi.py:5130] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 14:40:11][bazi.py:5147] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 14:40:11][bazi.py:5177] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 14:40:11][bazi.py:5186] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[ERROR][2024-12-12 14:40:11][bazi.py:5200] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: 'ç”³'
[ERROR][2024-12-12 14:40:11][bazi.py:5208] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: 'ç”³'
[ERROR][2024-12-12 14:40:11][bazi.py:5317] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'ç”³'
[DEBUG][2024-12-12 14:40:11][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:40:11][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'ç”³')
[DEBUG][2024-12-12 14:40:11][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'ç”³'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x11043fcd0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409', 'receiver': '@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409'})
[INFO][2024-12-12 14:40:12][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'ç”³'), receiver=@2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409
[DEBUG][2024-12-12 14:40:12][chat_channel.py:300] - Worker return success, session_id = @2724cb92cbf10b34c20eb4395b5cdbd208a3d47ba76a906f0eeb86db1d0c9409
[INFO][2024-12-12 14:46:52][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:46:52][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 14:46:52][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:46:52][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 14:46:58][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 14:46:58][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 14:46:58][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 14:46:58][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 14:46:58][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 14:46:58][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 14:46:58][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 14:46:58][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 14:46:58][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 14:46:58][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 14:46:58][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 14:46:58][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7103ã€‚
[INFO][2024-12-12 14:46:58][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 14:46:58][bazi.py:157] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:46:58][bazi.py:175] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:46:58][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 14:47:26][wechat_channel.py:154] - Login success
[INFO][2024-12-12 14:47:26][wechat_channel.py:134] - Wechat login success, user_id: @a595177fc2c832787048ea071cab22f7a1216b17fb5a41fad7cd5f91a7a1d52a, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 14:47:31][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "3140744022488501655", "FromUserName": "@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5", "ToUserName": "@a595177fc2c832787048ea071cab22f7a1216b17fb5a41fad7cd5f91a7a1d52a", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733986051, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 3140744022488501655, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5&skey=@crypt_5af1fb51_bfbf6b92a2e6234daf4d861497d706d4", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=3140744022488501655, create_time=1733986051, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5, from_user_nickname=é˜¿é»˜, to_user_id=@a595177fc2c832787048ea071cab22f7a1216b17fb5a41fad7cd5f91a7a1d52a, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 14:47:31][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1101e9be0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5', 'receiver': '@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5'})
[DEBUG][2024-12-12 14:47:31][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1101e9be0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5', 'receiver': '@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5'})
[DEBUG][2024-12-12 14:47:31][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:47:31][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:47:31][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:47:31][bazi.py:5185] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 14:47:31][bazi.py:5192] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:47:31][bazi.py:5206] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:47:31][bazi.py:5217] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 14:47:31][bazi.py:5070] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 14:47:31][bazi.py:5098] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 14:47:31][bazi.py:5115] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 14:47:31][bazi.py:5145] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 14:47:31][bazi.py:5154] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[ERROR][2024-12-12 14:47:31][bazi.py:5168] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€ã€â€œå››ä¸ªåœ°æ”¯åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: 'ç”³'
[ERROR][2024-12-12 14:47:31][bazi.py:5176] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: 'ç”³'
[ERROR][2024-12-12 14:47:31][bazi.py:5285] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'ç”³'
[DEBUG][2024-12-12 14:47:31][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:47:31][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'ç”³')
[DEBUG][2024-12-12 14:47:31][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'ç”³'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1101e9be0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5', 'receiver': '@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5'})
[INFO][2024-12-12 14:47:32][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'ç”³'), receiver=@f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5
[DEBUG][2024-12-12 14:47:32][chat_channel.py:300] - Worker return success, session_id = @f1c0488d927a73523ad7fbf8febedd9aa0b96ff7b0fc31573c5dffa4d71423a5
[INFO][2024-12-12 14:52:07][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:52:07][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 14:52:07][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 14:52:07][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 14:52:15][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 14:52:15][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 14:52:15][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 14:52:16][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 14:52:16][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 14:52:16][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin bazi_v1.0 registered, path=./plugins/bazi
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 14:52:16][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 14:52:16][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 14:52:16][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[DEBUG][2024-12-12 14:52:16][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 14:52:16][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 14:52:16][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2690ã€‚
[INFO][2024-12-12 14:52:16][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 14:52:16][bazi.py:157] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:52:16][bazi.py:175] - [BaziPlugin] æ’ä»¶å·²åˆå§‹åŒ–
[INFO][2024-12-12 14:52:16][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 14:52:35][wechat_channel.py:154] - Login success
[INFO][2024-12-12 14:52:35][wechat_channel.py:134] - Wechat login success, user_id: @e8a70b0d6aba7fd55278bef875d7a4fb654fdd007a71523096250e01f42baf89, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 14:52:40][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "7030235610578709813", "FromUserName": "@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5", "ToUserName": "@e8a70b0d6aba7fd55278bef875d7a4fb654fdd007a71523096250e01f42baf89", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733986360, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 7030235610578709813, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5&skey=@crypt_5af1fb51_f3ff1a2c1fb0b4fbad181b6fb52ca31e", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=7030235610578709813, create_time=1733986360, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5, from_user_nickname=é˜¿é»˜, to_user_id=@e8a70b0d6aba7fd55278bef875d7a4fb654fdd007a71523096250e01f42baf89, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 14:52:40][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1104bed00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5', 'receiver': '@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5'})
[DEBUG][2024-12-12 14:52:40][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1104bed00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5', 'receiver': '@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5'})
[DEBUG][2024-12-12 14:52:40][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:52:40][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:52:40][plugin_manager.py:189] - Plugin BAZI triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:52:40][bazi.py:5172] - [BaziPlugin] on_handle_context å¼€å§‹æ‰§è¡Œ
[INFO][2024-12-12 14:52:40][bazi.py:5179] - [BaziPlugin] æ”¶åˆ°åŸå§‹æ¶ˆæ¯: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:52:40][bazi.py:5193] - [BaziPlugin] å¤„ç†åçš„æ¶ˆæ¯å†…å®¹: ç”· 1992 06 23 22
[DEBUG][2024-12-12 14:52:40][bazi.py:5204] - [BaziPlugin] åŒ¹é…åˆ°å…¬å†è¾“å…¥æ ¼å¼
[DEBUG][2024-12-12 14:52:40][bazi.py:5058] - [BaziPlugin] å¼€å§‹å¤„ç†å…«å­—æ•°æ®
[DEBUG][2024-12-12 14:52:40][bazi.py:5086] - [BaziPlugin] Processing å…¬å†è¾“å…¥
[DEBUG][2024-12-12 14:52:40][bazi.py:5103] - [BaziPlugin] å…¬å†è¾“å…¥çš„å…«å­—æ•°æ®å¤„ç†å®Œæˆ
[DEBUG][2024-12-12 14:52:40][bazi.py:5133] - [BaziPlugin] å…«å­—æ•°æ®æ•´ä¸ªéƒ½å¤„ç†å®Œæˆäº†
[DEBUG][2024-12-12 14:52:40][bazi.py:5142] - [BaziPlugin] å…«å­—ä¿¡æ¯ä¸»å­—å…¸åˆå§‹åŒ–å®Œæˆ
[DEBUG][2024-12-12 14:52:40][bazi.py:318] - [BaziPlugin] å‘½ç›˜åˆ†æç•Œé¢å¼€å§‹
[ERROR][2024-12-12 14:52:40][bazi.py:5155] - [BaziPlugin]ç”¨â€œå‘½ç›˜åˆ†æâ€å‡½æ•°è¯•å›¾å¡«â€œæœ¬å‘½ç›˜å››ä¸ªå¤©å¹²åå­—åˆ—è¡¨â€ã€â€œæœ¬å‘½ç›˜å››ä¸ªåœ°æ”¯åå­—åˆ—è¡¨â€ã€â€œå››ä¸ªå¤©å¹²åç¥åˆ—è¡¨â€æ—¶å‘ç”Ÿäº†é”™è¯¯: 'åˆ'
[ERROR][2024-12-12 14:52:40][bazi.py:5163] - [BaziPlugin] å¤„ç†å…«å­—æ•°æ®æ—¶å‡ºé”™: 'åˆ'
[ERROR][2024-12-12 14:52:40][bazi.py:5272] - [BaziPlugin] å¤„ç†æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: 'åˆ'
[DEBUG][2024-12-12 14:52:40][plugin_manager.py:194] - Plugin BAZI breaked event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 14:52:40][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=ERROR, content=ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'åˆ')
[DEBUG][2024-12-12 14:52:40][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'åˆ'), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1104bed00>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5', 'receiver': '@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5'})
[INFO][2024-12-12 14:52:40][wechat_channel.py:222] - [WX] sendMsg=Reply(type=ERROR, content=[ERROR]
ç”Ÿæˆå‘½ä¸»å…³é”®ä¿¡æ¯æ—¶å‡ºé”™: 'åˆ'), receiver=@79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5
[DEBUG][2024-12-12 14:52:40][chat_channel.py:300] - Worker return success, session_id = @79fbac5bdeef8004d76b012d7dbf4c5d51da45fd7b47f2c776b25a9fd94125a5
[INFO][2024-12-12 15:01:09][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:01:09][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:01:09][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:01:09][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:01:31][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:01:31][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:01:31][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:01:31][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:01:31][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:01:31][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:01:31][plugin_manager.py:113] - Failed to import plugin bazi: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:01:31][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:01:31][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:01:31][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:01:31][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[DEBUG][2024-12-12 15:01:31][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:01:31][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:01:31][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º6218ã€‚
[INFO][2024-12-12 15:01:31][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:01:31][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:01:58][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:01:58][wechat_channel.py:134] - Wechat login success, user_id: @b43a4564c28f7806dfbb635a63e13f73daafd22f14576fdc840161745674bf08, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:02:04][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "1203447505691267759", "FromUserName": "@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff", "ToUserName": "@b43a4564c28f7806dfbb635a63e13f73daafd22f14576fdc840161745674bf08", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733986924, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 1203447505691267759, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff&skey=@crypt_5af1fb51_7103ac41d06a47b18189ae925207c771", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=1203447505691267759, create_time=1733986924, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff, from_user_nickname=é˜¿é»˜, to_user_id=@b43a4564c28f7806dfbb635a63e13f73daafd22f14576fdc840161745674bf08, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:02:04][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1101033a0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff', 'receiver': '@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff'})
[DEBUG][2024-12-12 15:02:04][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1101033a0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff', 'receiver': '@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff'})
[DEBUG][2024-12-12 15:02:04][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:02:04][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:02:04][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:02:04][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:02:04][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:02:04][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:02:04][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:02:04][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:02:04][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:02:06][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff, reply_cont=æ‚¨æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22ç‚¹ã€‚å¦‚æœæ‚¨éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æŸç§è§£è¯»ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼, completion_tokens=54
[DEBUG][2024-12-12 15:02:06][session_manager.py:81] - raw total_tokens=108, savesession tokens=143
[DEBUG][2024-12-12 15:02:06][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æ‚¨æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22ç‚¹ã€‚å¦‚æœæ‚¨éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æŸç§è§£è¯»ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼)
[DEBUG][2024-12-12 15:02:06][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] æ‚¨æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22ç‚¹ã€‚å¦‚æœæ‚¨éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æŸç§è§£è¯»ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x1101033a0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff', 'receiver': '@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10de2c1c0>})
[INFO][2024-12-12 15:02:06][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ‚¨æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22ç‚¹ã€‚å¦‚æœæ‚¨éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æŸç§è§£è¯»ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼), receiver=@6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff
[DEBUG][2024-12-12 15:02:06][chat_channel.py:300] - Worker return success, session_id = @6dce405574934be44a97152d151666ba47c04c253de37bd9f6d69ee3146843ff
[INFO][2024-12-12 15:02:38][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:02:38][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:02:39][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:02:39][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:02:45][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:02:45][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:02:45][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:02:45][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:02:45][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:02:45][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:02:45][plugin_manager.py:113] - Failed to import plugin bazi: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:02:45][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:02:45][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:02:45][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:02:45][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[DEBUG][2024-12-12 15:02:45][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:02:45][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:02:45][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º2768ã€‚
[INFO][2024-12-12 15:02:45][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:02:45][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:03:05][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:03:05][wechat_channel.py:134] - Wechat login success, user_id: @47d7ff7e26875e6b86e19b11cd310f3840b27102a6200d9a0246c59310f1ad2b, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:03:12][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "3317087098253021201", "FromUserName": "@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0", "ToUserName": "@47d7ff7e26875e6b86e19b11cd310f3840b27102a6200d9a0246c59310f1ad2b", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733986992, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 3317087098253021201, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0&skey=@crypt_5af1fb51_b48dad1b3bd392046b5c8d13eab336ea", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=3317087098253021201, create_time=1733986992, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0, from_user_nickname=é˜¿é»˜, to_user_id=@47d7ff7e26875e6b86e19b11cd310f3840b27102a6200d9a0246c59310f1ad2b, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:03:12][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fc98400>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0', 'receiver': '@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0'})
[DEBUG][2024-12-12 15:03:12][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fc98400>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0', 'receiver': '@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0'})
[DEBUG][2024-12-12 15:03:12][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:03:12][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:03:12][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:03:12][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:03:12][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:03:12][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:03:13][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:03:13][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:03:13][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:03:15][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0, reply_cont=æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯ä¸€ä½ç”·æ€§ï¼Œå‡ºç”Ÿäº1992å¹´6æœˆ23æ—¥ã€‚è¯·é—®æ‚¨å¸Œæœ›äº†è§£ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†ï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„ä¿¡æ¯ï¼Ÿ, completion_tokens=41
[DEBUG][2024-12-12 15:03:15][session_manager.py:81] - raw total_tokens=95, savesession tokens=133
[DEBUG][2024-12-12 15:03:15][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯ä¸€ä½ç”·æ€§ï¼Œå‡ºç”Ÿäº1992å¹´6æœˆ23æ—¥ã€‚è¯·é—®æ‚¨å¸Œæœ›äº†è§£ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†ï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„ä¿¡æ¯ï¼Ÿ)
[DEBUG][2024-12-12 15:03:15][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯ä¸€ä½ç”·æ€§ï¼Œå‡ºç”Ÿäº1992å¹´6æœˆ23æ—¥ã€‚è¯·é—®æ‚¨å¸Œæœ›äº†è§£ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†ï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„ä¿¡æ¯ï¼Ÿ), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10fc98400>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0', 'receiver': '@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10d9bf1c0>})
[INFO][2024-12-12 15:03:15][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯ä¸€ä½ç”·æ€§ï¼Œå‡ºç”Ÿäº1992å¹´6æœˆ23æ—¥ã€‚è¯·é—®æ‚¨å¸Œæœ›äº†è§£ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†ï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„ä¿¡æ¯ï¼Ÿ), receiver=@c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0
[DEBUG][2024-12-12 15:03:15][chat_channel.py:300] - Worker return success, session_id = @c80fddbdbdff4ee85a11291cc5298b904814958dfcc163dd931aaaa7f3f939f0
[INFO][2024-12-12 15:04:10][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:04:10][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:04:11][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:04:11][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:04:59][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:04:59][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:04:59][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:04:59][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:04:59][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:04:59][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:04:59][plugin_manager.py:113] - Failed to import plugin bazi: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:04:59][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:04:59][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:04:59][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:04:59][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[DEBUG][2024-12-12 15:04:59][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:04:59][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:04:59][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7843ã€‚
[INFO][2024-12-12 15:04:59][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:04:59][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:05:22][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:05:22][wechat_channel.py:134] - Wechat login success, user_id: @288ca087d47b7e5bed5d03fe03b2c5fea5b50435849be418375822ad43687ffd, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:05:34][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "7258952212929413625", "FromUserName": "@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2", "ToUserName": "@288ca087d47b7e5bed5d03fe03b2c5fea5b50435849be418375822ad43687ffd", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733987134, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 7258952212929413625, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2&skey=@crypt_5af1fb51_e278d028087d62d280bd42181a070f09", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=7258952212929413625, create_time=1733987134, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2, from_user_nickname=é˜¿é»˜, to_user_id=@288ca087d47b7e5bed5d03fe03b2c5fea5b50435849be418375822ad43687ffd, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:05:34][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10d997430>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2', 'receiver': '@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2'})
[DEBUG][2024-12-12 15:05:34][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10d997430>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2', 'receiver': '@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2'})
[DEBUG][2024-12-12 15:05:34][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:05:34][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:05:34][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:05:34][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:05:34][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:05:34][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:05:34][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:05:34][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:05:34][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:05:37][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2, reply_cont=æ‚¨æä¾›çš„ä¿¡æ¯æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚å¦‚æœæ‚¨æƒ³è¦äº†è§£ä¸æ­¤ç›¸å…³çš„å†…å®¹ï¼Œä¾‹å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨å…·ä½“æƒ³çŸ¥é“ä»€ä¹ˆã€‚, completion_tokens=46
[DEBUG][2024-12-12 15:05:37][session_manager.py:81] - raw total_tokens=100, savesession tokens=134
[DEBUG][2024-12-12 15:05:37][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æ‚¨æä¾›çš„ä¿¡æ¯æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚å¦‚æœæ‚¨æƒ³è¦äº†è§£ä¸æ­¤ç›¸å…³çš„å†…å®¹ï¼Œä¾‹å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨å…·ä½“æƒ³çŸ¥é“ä»€ä¹ˆã€‚)
[DEBUG][2024-12-12 15:05:37][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] æ‚¨æä¾›çš„ä¿¡æ¯æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚å¦‚æœæ‚¨æƒ³è¦äº†è§£ä¸æ­¤ç›¸å…³çš„å†…å®¹ï¼Œä¾‹å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨å…·ä½“æƒ³çŸ¥é“ä»€ä¹ˆã€‚), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10d997430>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2', 'receiver': '@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10b6bc1c0>})
[INFO][2024-12-12 15:05:37][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ‚¨æä¾›çš„ä¿¡æ¯æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚å¦‚æœæ‚¨æƒ³è¦äº†è§£ä¸æ­¤ç›¸å…³çš„å†…å®¹ï¼Œä¾‹å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–ï¼Œè¯·å‘Šè¯‰æˆ‘æ‚¨å…·ä½“æƒ³çŸ¥é“ä»€ä¹ˆã€‚), receiver=@58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2
[DEBUG][2024-12-12 15:05:37][chat_channel.py:300] - Worker return success, session_id = @58d3874c6ff48729775af46a1463025b8cb2f013698d30300047af31db5aa2a2
[INFO][2024-12-12 15:09:42][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:09:42][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:09:42][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:09:42][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:14:05][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:14:05][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:14:05][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:14:05][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:14:05][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:14:05][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:14:05][plugin_manager.py:113] - Failed to import plugin bazi: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:14:05][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:14:05][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:14:05][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:14:05][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[DEBUG][2024-12-12 15:14:05][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:14:05][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:14:05][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º7381ã€‚
[INFO][2024-12-12 15:14:05][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:14:05][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:14:29][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:14:29][wechat_channel.py:134] - Wechat login success, user_id: @1974c4c9e8470185635eb05a3117fe286a8db0629fd8c568e7d932d1f2b9ec6b, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:14:34][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "1899386378189068841", "FromUserName": "@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836", "ToUserName": "@1974c4c9e8470185635eb05a3117fe286a8db0629fd8c568e7d932d1f2b9ec6b", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733987674, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 1899386378189068841, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836&skey=@crypt_5af1fb51_1122b9a8b58c43781a245daa62243592", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=1899386378189068841, create_time=1733987674, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836, from_user_nickname=é˜¿é»˜, to_user_id=@1974c4c9e8470185635eb05a3117fe286a8db0629fd8c568e7d932d1f2b9ec6b, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:14:35][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e0674c0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836', 'receiver': '@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836'})
[DEBUG][2024-12-12 15:14:35][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e0674c0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836', 'receiver': '@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836'})
[DEBUG][2024-12-12 15:14:35][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:14:35][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:14:35][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:14:35][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:14:35][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:14:35][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:14:35][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:14:35][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:14:35][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:14:37][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836, reply_cont=ä½ æä¾›çš„ä¿¡æ¯æ˜¾ç¤ºäº†ä¸€ä¸ªç”·æ€§çš„å‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚è¯·é—®ä½ éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„ä»€ä¹ˆå…·ä½“ä¿¡æ¯ï¼Ÿæ¯”å¦‚ï¼Œæ˜Ÿåº§ã€å‘½ç†åˆ†æï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„å†…å®¹ï¼Ÿ, completion_tokens=52
[DEBUG][2024-12-12 15:14:37][session_manager.py:81] - raw total_tokens=106, savesession tokens=139
[DEBUG][2024-12-12 15:14:37][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ä½ æä¾›çš„ä¿¡æ¯æ˜¾ç¤ºäº†ä¸€ä¸ªç”·æ€§çš„å‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚è¯·é—®ä½ éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„ä»€ä¹ˆå…·ä½“ä¿¡æ¯ï¼Ÿæ¯”å¦‚ï¼Œæ˜Ÿåº§ã€å‘½ç†åˆ†æï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„å†…å®¹ï¼Ÿ)
[DEBUG][2024-12-12 15:14:37][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] ä½ æä¾›çš„ä¿¡æ¯æ˜¾ç¤ºäº†ä¸€ä¸ªç”·æ€§çš„å‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚è¯·é—®ä½ éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„ä»€ä¹ˆå…·ä½“ä¿¡æ¯ï¼Ÿæ¯”å¦‚ï¼Œæ˜Ÿåº§ã€å‘½ç†åˆ†æï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„å†…å®¹ï¼Ÿ), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10e0674c0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836', 'receiver': '@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10baeadf0>})
[INFO][2024-12-12 15:14:38][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] ä½ æä¾›çš„ä¿¡æ¯æ˜¾ç¤ºäº†ä¸€ä¸ªç”·æ€§çš„å‡ºç”Ÿæ—¥æœŸå’Œæ—¶é—´ï¼š1992å¹´6æœˆ23æ—¥22æ—¶ã€‚è¯·é—®ä½ éœ€è¦å…³äºè¿™ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„ä»€ä¹ˆå…·ä½“ä¿¡æ¯ï¼Ÿæ¯”å¦‚ï¼Œæ˜Ÿåº§ã€å‘½ç†åˆ†æï¼Œæˆ–è€…å…¶ä»–æ–¹é¢çš„å†…å®¹ï¼Ÿ), receiver=@2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836
[DEBUG][2024-12-12 15:14:38][chat_channel.py:300] - Worker return success, session_id = @2088dff8c06110492fe646e2b97fd8d015dde793c99fbbd0218d206fe2459836
[INFO][2024-12-12 15:14:56][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:14:56][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:14:57][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:14:57][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:22:27][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:22:27][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:22:27][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:22:27][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:22:27][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:22:27][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:22:27][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:22:27][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:22:27][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:22:28][plugin_manager.py:113] - Failed to import plugin bazi: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:22:28][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:22:28][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:22:28][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:22:28][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:22:28][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:22:28][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:22:28][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:22:28][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:22:28][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[DEBUG][2024-12-12 15:22:28][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:22:28][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:22:28][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º9708ã€‚
[INFO][2024-12-12 15:22:28][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:22:28][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:22:52][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:22:52][wechat_channel.py:134] - Wechat login success, user_id: @49dddf75080ba3653fba2c9bfd442cf32a320ed55496274328705e7445232ac6, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:22:58][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "6446480416053355106", "FromUserName": "@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0", "ToUserName": "@49dddf75080ba3653fba2c9bfd442cf32a320ed55496274328705e7445232ac6", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733988177, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 6446480416053355106, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0&skey=@crypt_5af1fb51_c81efa2399c7ad95946108fc00549ddd", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=6446480416053355106, create_time=1733988177, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0, from_user_nickname=é˜¿é»˜, to_user_id=@49dddf75080ba3653fba2c9bfd442cf32a320ed55496274328705e7445232ac6, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:22:58][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x11036f3a0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0', 'receiver': '@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0'})
[DEBUG][2024-12-12 15:22:58][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x11036f3a0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0', 'receiver': '@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0'})
[DEBUG][2024-12-12 15:22:58][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:22:58][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:22:58][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:22:58][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:22:58][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:22:58][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:22:58][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:22:58][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:22:58][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:23:00][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0, reply_cont=ä½ å¥½ï¼ä½ æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ€§åˆ«ã€‚å¦‚æœä½ æƒ³è¦äº†è§£ä¸è¿™ä¸ªä¿¡æ¯ç›¸å…³çš„å†…å®¹ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–è€…å æ˜Ÿç­‰ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“çš„éœ€æ±‚ï¼Œæˆ‘å°†å¾ˆé«˜å…´ä¸ºä½ æä¾›å¸®åŠ©ï¼, completion_tokens=51
[DEBUG][2024-12-12 15:23:00][session_manager.py:81] - raw total_tokens=105, savesession tokens=149
[DEBUG][2024-12-12 15:23:00][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=ä½ å¥½ï¼ä½ æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ€§åˆ«ã€‚å¦‚æœä½ æƒ³è¦äº†è§£ä¸è¿™ä¸ªä¿¡æ¯ç›¸å…³çš„å†…å®¹ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–è€…å æ˜Ÿç­‰ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“çš„éœ€æ±‚ï¼Œæˆ‘å°†å¾ˆé«˜å…´ä¸ºä½ æä¾›å¸®åŠ©ï¼)
[DEBUG][2024-12-12 15:23:00][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] ä½ å¥½ï¼ä½ æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ€§åˆ«ã€‚å¦‚æœä½ æƒ³è¦äº†è§£ä¸è¿™ä¸ªä¿¡æ¯ç›¸å…³çš„å†…å®¹ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–è€…å æ˜Ÿç­‰ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“çš„éœ€æ±‚ï¼Œæˆ‘å°†å¾ˆé«˜å…´ä¸ºä½ æä¾›å¸®åŠ©ï¼), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x11036f3a0>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0', 'receiver': '@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10dec0400>})
[INFO][2024-12-12 15:23:00][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] ä½ å¥½ï¼ä½ æä¾›çš„ä¿¡æ¯çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå‡ºç”Ÿæ—¥æœŸå’Œæ€§åˆ«ã€‚å¦‚æœä½ æƒ³è¦äº†è§£ä¸è¿™ä¸ªä¿¡æ¯ç›¸å…³çš„å†…å®¹ï¼Œæ¯”å¦‚æ˜Ÿåº§ã€å‘½ç†æˆ–è€…å æ˜Ÿç­‰ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“çš„éœ€æ±‚ï¼Œæˆ‘å°†å¾ˆé«˜å…´ä¸ºä½ æä¾›å¸®åŠ©ï¼), receiver=@24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0
[DEBUG][2024-12-12 15:23:00][chat_channel.py:300] - Worker return success, session_id = @24836035480252604b165b8786ae1bf2dbc050b8f77f968ccfe93c0f3e8a83e0
[INFO][2024-12-12 15:23:05][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:23:05][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:23:05][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:23:05][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:28:43][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:28:43][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:28:43][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:28:44][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:28:44][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:28:44][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:28:44][plugin_manager.py:113] - Failed to import plugin bazi: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:28:44][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:28:44][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:28:44][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:28:44][plugin_manager.py:182] - Plugin bazi not found, but found in plugins.json
[DEBUG][2024-12-12 15:28:44][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:28:44][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:28:44][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º0467ã€‚
[INFO][2024-12-12 15:28:44][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:28:44][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:29:04][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:29:04][wechat_channel.py:134] - Wechat login success, user_id: @d9126572c7ca1bd29bc8afd4ab14a066418c57282dc58ae435153d530addc30c, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:29:23][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "3867366216468097200", "FromUserName": "@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430", "ToUserName": "@d9126572c7ca1bd29bc8afd4ab14a066418c57282dc58ae435153d530addc30c", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733988563, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 3867366216468097200, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430&skey=@crypt_5af1fb51_4094700eeffef14bbebd737c74c66a83", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=3867366216468097200, create_time=1733988563, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430, from_user_nickname=é˜¿é»˜, to_user_id=@d9126572c7ca1bd29bc8afd4ab14a066418c57282dc58ae435153d530addc30c, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:29:23][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10da47c40>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430', 'receiver': '@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430'})
[DEBUG][2024-12-12 15:29:23][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10da47c40>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430', 'receiver': '@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430'})
[DEBUG][2024-12-12 15:29:23][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:29:23][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:29:23][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:29:23][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:29:23][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:29:23][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:29:23][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:29:24][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:29:24][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:29:26][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430, reply_cont=æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯1992å¹´6æœˆ23æ—¥å‡ºç”Ÿçš„ç”·æ€§ã€‚å¦‚æœæ‚¨éœ€è¦æ ¹æ®è¿™ä¸ªå‡ºç”Ÿæ—¥æœŸè¿›è¡Œæ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–æ–¹é¢çš„åˆ†æï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼, completion_tokens=44
[DEBUG][2024-12-12 15:29:26][session_manager.py:81] - raw total_tokens=98, savesession tokens=136
[DEBUG][2024-12-12 15:29:26][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯1992å¹´6æœˆ23æ—¥å‡ºç”Ÿçš„ç”·æ€§ã€‚å¦‚æœæ‚¨éœ€è¦æ ¹æ®è¿™ä¸ªå‡ºç”Ÿæ—¥æœŸè¿›è¡Œæ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–æ–¹é¢çš„åˆ†æï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼)
[DEBUG][2024-12-12 15:29:26][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯1992å¹´6æœˆ23æ—¥å‡ºç”Ÿçš„ç”·æ€§ã€‚å¦‚æœæ‚¨éœ€è¦æ ¹æ®è¿™ä¸ªå‡ºç”Ÿæ—¥æœŸè¿›è¡Œæ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–æ–¹é¢çš„åˆ†æï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x10da47c40>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430', 'receiver': '@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10b67f1c0>})
[INFO][2024-12-12 15:29:26][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œæ‚¨æ˜¯1992å¹´6æœˆ23æ—¥å‡ºç”Ÿçš„ç”·æ€§ã€‚å¦‚æœæ‚¨éœ€è¦æ ¹æ®è¿™ä¸ªå‡ºç”Ÿæ—¥æœŸè¿›è¡Œæ˜Ÿåº§ã€å‘½ç†æˆ–å…¶ä»–æ–¹é¢çš„åˆ†æï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“æƒ³äº†è§£çš„å†…å®¹ï¼), receiver=@00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430
[DEBUG][2024-12-12 15:29:26][chat_channel.py:300] - Worker return success, session_id = @00dc96d2fab95ee4015127cc8e23f066c972c49aa7215856c290d93aba884430
[INFO][2024-12-12 15:29:31][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:29:31][config.py:234] - [Config] User datas saved.
[INFO][2024-12-12 15:29:31][app.py:19] - signal 2 received, exiting...
[INFO][2024-12-12 15:29:31][config.py:234] - [Config] User datas saved.
[DEBUG][2024-12-12 15:35:24][config.py:297] - [INIT] set log level to DEBUG
[INFO][2024-12-12 15:35:24][config.py:299] - [INIT] load config: {'channel_type': 'wx', 'model': 'gpt-4o-mini', 'open_ai_api_key': 'sk-*****BwA', 'claude_api_key': 'YOU*****KEY', 'text_to_image': 'dall-e-2', 'voice_to_text': 'openai', 'text_to_voice': 'openai', 'proxy': '', 'hot_reload': False, 'single_chat_prefix': ['æœºå™¨äºº', '@æœºå™¨äºº'], 'single_chat_reply_prefix': '[æœºå™¨äºº] ', 'group_chat_prefix': ['@æœºå™¨äºº'], 'group_name_white_list': ['ChatGPTæµ‹è¯•ç¾¤', 'ChatGPTæµ‹è¯•ç¾¤2'], 'image_create_prefix': ['ç”»'], 'speech_recognition': True, 'use_global_plugin_config': True, 'group_speech_recognition': False, 'voice_reply_voice': False, 'conversation_max_tokens': 2500, 'expires_in_seconds': 3600, 'character_desc': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚', 'temperature': 0.7, 'subscribe_msg': 'æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼\nè¿™é‡Œæ˜¯AIæ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥è‡ªç”±å¯¹è¯ã€‚\næ”¯æŒè¯­éŸ³å¯¹è¯ã€‚\næ”¯æŒå›¾ç‰‡è¾“å…¥ã€‚\næ”¯æŒå›¾ç‰‡è¾“å‡ºï¼Œç”»å­—å¼€å¤´çš„æ¶ˆæ¯å°†æŒ‰è¦æ±‚åˆ›ä½œå›¾ç‰‡ã€‚\næ”¯æŒtoolã€è§’è‰²æ‰®æ¼”å’Œæ–‡å­—å†’é™©ç­‰ä¸°å¯Œçš„æ’ä»¶ã€‚\nè¾“å…¥{trigger_prefix}#help æŸ¥çœ‹è¯¦ç»†æŒ‡ä»¤ã€‚', 'use_linkai': False, 'linkai_api_key': '*****', 'linkai_app_code': '', 'debug': True}
[INFO][2024-12-12 15:35:24][config.py:223] - [Config] User datas loaded.
[DEBUG][2024-12-12 15:35:24][audio_convert.py:9] - import pysilk failed, wechaty voice message will not be supported.
[INFO][2024-12-12 15:35:24][plugin_manager.py:50] - Loading plugins config...
[INFO][2024-12-12 15:35:24][plugin_manager.py:88] - Scaning plugins ...
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Role_v1.0 registered, path=./plugins/role
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin linkai_v0.1.0 registered, path=./plugins/linkai
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Dungeon_v1.0 registered, path=./plugins/dungeon
[WARNING][2024-12-12 15:35:24][plugin_manager.py:113] - Failed to import plugin bazi_plugins: keyword argument repeated: åç¥å…³ç³» (bazi.py, line 417)
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin BDunit_v0.1 registered, path=./plugins/bdunit
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Finish_v1.0 registered, path=./plugins/finish
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Godcmd_v1.0 registered, path=./plugins/godcmd
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Hello_v0.1 registered, path=./plugins/hello
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Banwords_v1.0 registered, path=./plugins/banwords
[INFO][2024-12-12 15:35:24][plugin_manager.py:41] - Plugin Keyword_v0.1 registered, path=./plugins/keyword
[WARNING][2024-12-12 15:35:24][plugin_manager.py:113] - Failed to import plugin tool: No module named 'chatgpt_tool_hub'
[DEBUG][2024-12-12 15:35:24][plugin_manager.py:179] - plugins.json config={'plugins': SortedDict({'Godcmd': {'enabled': True, 'priority': 999}, 'Keyword': {'enabled': False, 'priority': 900}, 'bazi_plugins': {'enabled': True, 'priority': 100}, 'Banwords': {'enabled': False, 'priority': 100}, 'linkai': {'enabled': False, 'priority': 99}, 'Role': {'enabled': False, 'priority': 0}, 'Dungeon': {'enabled': False, 'priority': 0}, 'BDunit': {'enabled': False, 'priority': 0}, 'Hello': {'enabled': False, 'priority': -1}, 'Finish': {'enabled': True, 'priority': -999}}, sort_func=<lambda>, reverse=True)}
[ERROR][2024-12-12 15:35:24][plugin_manager.py:182] - Plugin bazi_plugins not found, but found in plugins.json
[DEBUG][2024-12-12 15:35:24][plugin.py:21] - loading plugin config, plugin_config_path=./plugins/godcmd/config.json, exist=True
[DEBUG][2024-12-12 15:35:24][plugin.py:28] - loading plugin config, plugin_name=Godcmd, conf={'password': '', 'admin_users': []}
[INFO][2024-12-12 15:35:24][godcmd.py:194] - [Godcmd] å› æœªè®¾ç½®å£ä»¤ï¼Œæœ¬æ¬¡çš„ä¸´æ—¶å£ä»¤ä¸º4193ã€‚
[INFO][2024-12-12 15:35:24][godcmd.py:210] - [Godcmd] inited
[INFO][2024-12-12 15:35:24][finish.py:23] - [Finish] inited
[DEBUG][2024-12-12 15:35:47][wechat_channel.py:154] - Login success
[INFO][2024-12-12 15:35:47][wechat_channel.py:134] - Wechat login success, user_id: @ea31bbc37169d76c66dab19526e452ef537f19150deb6148a19f1a5e0133297b, nickname: ä»˜åœ£å¼ºæœºå™¨äººğŸ””
[DEBUG][2024-12-12 15:35:59][wechat_channel.py:183] - [WX]receive text msg: {"MsgId": "5606886402220569689", "FromUserName": "@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed", "ToUserName": "@ea31bbc37169d76c66dab19526e452ef537f19150deb6148a19f1a5e0133297b", "MsgType": 1, "Content": "@æœºå™¨äºº ç”· 1992 06 23 22", "Status": 3, "ImgStatus": 1, "CreateTime": 1733988959, "VoiceLength": 0, "PlayLength": 0, "FileName": "", "FileSize": "", "MediaId": "", "Url": "", "AppMsgType": 0, "StatusNotifyCode": 0, "StatusNotifyUserName": "", "RecommendInfo": {"UserName": "", "NickName": "", "QQNum": 0, "Province": "", "City": "", "Content": "", "Signature": "", "Alias": "", "Scene": 0, "VerifyFlag": 0, "AttrStatus": 0, "Sex": 0, "Ticket": "", "OpCode": 0}, "ForwardFlag": 0, "AppInfo": {"AppID": "", "Type": 0}, "HasProductId": 0, "Ticket": "", "ImgHeight": 0, "ImgWidth": 0, "SubMsgType": 0, "NewMsgId": 5606886402220569689, "OriContent": "", "EncryFileName": "", "User": {"MemberList": [], "Uin": 0, "UserName": "@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed", "NickName": "é˜¿é»˜", "HeadImgUrl": "/cgi-bin/mmwebwx-bin/webwxgeticon?seq=807918023&username=@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed&skey=@crypt_5af1fb51_c0ccc1881f27c5cef66d266aeb140418", "ContactFlag": 3, "MemberCount": 0, "RemarkName": "", "HideInputBarFlag": 0, "Sex": 1, "Signature": "Think like an administrator", "VerifyFlag": 0, "OwnerUin": 0, "PYInitial": "AM", "PYQuanPin": "amo", "RemarkPYInitial": "", "RemarkPYQuanPin": "", "StarFriend": 0, "AppAccountFlag": 0, "Statues": 0, "AttrStatus": 2147717413, "Province": "å¹¿ä¸œ", "City": "æ·±åœ³", "Alias": "", "SnsFlag": 305, "UniFriend": 0, "DisplayName": "", "ChatRoomId": 0, "KeyWord": "", "EncryChatRoomId": "", "IsOwner": 0}, "Type": "Text", "Text": "@æœºå™¨äºº ç”· 1992 06 23 22"}, cmsg=ChatMessage: id=5606886402220569689, create_time=1733988959, ctype=TEXT, content=@æœºå™¨äºº ç”· 1992 06 23 22, from_user_id=@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed, from_user_nickname=é˜¿é»˜, to_user_id=@ea31bbc37169d76c66dab19526e452ef537f19150deb6148a19f1a5e0133297b, to_user_nickname=ä»˜åœ£å¼ºæœºå™¨äººğŸ””, other_user_id=@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed, other_user_nickname=é˜¿é»˜, is_group=False, is_at=False, actual_user_id=None, actual_user_nickname=None, at_list=None
[DEBUG][2024-12-12 15:35:59][chat_channel.py:346] - [chat_channel] consume context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110395d90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed', 'receiver': '@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed'})
[DEBUG][2024-12-12 15:35:59][chat_channel.py:168] - [chat_channel] ready to handle context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110395d90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed', 'receiver': '@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed'})
[DEBUG][2024-12-12 15:35:59][plugin_manager.py:189] - Plugin GODCMD triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:35:59][godcmd.py:220] - [Godcmd] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:35:59][plugin_manager.py:189] - Plugin FINISH triggered by event Event.ON_HANDLE_CONTEXT
[DEBUG][2024-12-12 15:35:59][finish.py:30] - [Finish] on_handle_context. content: ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:35:59][chat_channel.py:190] - [chat_channel] ready to handle context: type=TEXT, content=ç”· 1992 06 23 22
[INFO][2024-12-12 15:35:59][bridge.py:68] - create bot chatGPT for chat
[INFO][2024-12-12 15:35:59][chat_gpt_bot.py:57] - [CHATGPT] query=ç”· 1992 06 23 22
[DEBUG][2024-12-12 15:35:59][session_manager.py:70] - prompt tokens used=69
[DEBUG][2024-12-12 15:35:59][chat_gpt_bot.py:74] - [CHATGPT] session query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}]
[DEBUG][2024-12-12 15:36:02][chat_gpt_bot.py:87] - [CHATGPT] new_query=[{'role': 'system', 'content': 'ä½ æ˜¯åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„AIæ™ºèƒ½åŠ©æ‰‹ï¼Œæ—¨åœ¨å›ç­”å¹¶è§£å†³äººä»¬çš„ä»»ä½•é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€ä¸äººäº¤æµã€‚'}, {'role': 'user', 'content': 'ç”· 1992 06 23 22'}], session_id=@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed, reply_cont=æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼ˆå‡ºç”Ÿæ—¥æœŸï¼š1992å¹´6æœˆ23æ—¥ï¼Œæ—¶é—´ï¼š22ç‚¹ï¼‰ï¼Œå¯ä»¥æ¨æµ‹å‡ºæ‚¨çš„æ˜Ÿåº§æ˜¯å·¨èŸ¹åº§ã€‚å·¨èŸ¹åº§çš„æ—¥æœŸèŒƒå›´æ˜¯æ¯å¹´çš„6æœˆ21æ—¥åˆ°7æœˆ22æ—¥ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰å…³å·¨èŸ¹åº§çš„æ€§æ ¼ç‰¹å¾ã€è¿åŠ¿æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼æ­¤å¤–ï¼Œå¦‚æœæ‚¨æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œä¹Ÿè¯·éšæ—¶å‘ŠçŸ¥ã€‚, completion_tokens=98
[DEBUG][2024-12-12 15:36:02][session_manager.py:81] - raw total_tokens=152, savesession tokens=209
[DEBUG][2024-12-12 15:36:02][chat_channel.py:172] - [chat_channel] ready to decorate reply: Reply(type=TEXT, content=æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼ˆå‡ºç”Ÿæ—¥æœŸï¼š1992å¹´6æœˆ23æ—¥ï¼Œæ—¶é—´ï¼š22ç‚¹ï¼‰ï¼Œå¯ä»¥æ¨æµ‹å‡ºæ‚¨çš„æ˜Ÿåº§æ˜¯å·¨èŸ¹åº§ã€‚å·¨èŸ¹åº§çš„æ—¥æœŸèŒƒå›´æ˜¯æ¯å¹´çš„6æœˆ21æ—¥åˆ°7æœˆ22æ—¥ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰å…³å·¨èŸ¹åº§çš„æ€§æ ¼ç‰¹å¾ã€è¿åŠ¿æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼æ­¤å¤–ï¼Œå¦‚æœæ‚¨æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œä¹Ÿè¯·éšæ—¶å‘ŠçŸ¥ã€‚)
[DEBUG][2024-12-12 15:36:02][chat_channel.py:284] - [chat_channel] ready to send reply: Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼ˆå‡ºç”Ÿæ—¥æœŸï¼š1992å¹´6æœˆ23æ—¥ï¼Œæ—¶é—´ï¼š22ç‚¹ï¼‰ï¼Œå¯ä»¥æ¨æµ‹å‡ºæ‚¨çš„æ˜Ÿåº§æ˜¯å·¨èŸ¹åº§ã€‚å·¨èŸ¹åº§çš„æ—¥æœŸèŒƒå›´æ˜¯æ¯å¹´çš„6æœˆ21æ—¥åˆ°7æœˆ22æ—¥ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰å…³å·¨èŸ¹åº§çš„æ€§æ ¼ç‰¹å¾ã€è¿åŠ¿æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼æ­¤å¤–ï¼Œå¦‚æœæ‚¨æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œä¹Ÿè¯·éšæ—¶å‘ŠçŸ¥ã€‚), context: Context(type=TEXT, content=ç”· 1992 06 23 22, kwargs={'isgroup': False, 'msg': <channel.wechat.wechat_message.WechatMessage object at 0x110395d90>, 'origin_ctype': <ContextType.TEXT: 1>, 'openai_api_key': None, 'gpt_model': None, 'session_id': '@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed', 'receiver': '@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed', 'channel': <channel.wechat.wechat_channel.WechatChannel object at 0x10e025e50>})
[INFO][2024-12-12 15:36:02][wechat_channel.py:218] - [WX] sendMsg=Reply(type=TEXT, content=[æœºå™¨äºº] æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼ˆå‡ºç”Ÿæ—¥æœŸï¼š1992å¹´6æœˆ23æ—¥ï¼Œæ—¶é—´ï¼š22ç‚¹ï¼‰ï¼Œå¯ä»¥æ¨æµ‹å‡ºæ‚¨çš„æ˜Ÿåº§æ˜¯å·¨èŸ¹åº§ã€‚å·¨èŸ¹åº§çš„æ—¥æœŸèŒƒå›´æ˜¯æ¯å¹´çš„6æœˆ21æ—¥åˆ°7æœˆ22æ—¥ã€‚

å¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰å…³å·¨èŸ¹åº§çš„æ€§æ ¼ç‰¹å¾ã€è¿åŠ¿æˆ–å…¶ä»–ç›¸å…³ä¿¡æ¯ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼æ­¤å¤–ï¼Œå¦‚æœæ‚¨æœ‰å…¶ä»–é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œä¹Ÿè¯·éšæ—¶å‘ŠçŸ¥ã€‚), receiver=@6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed
[DEBUG][2024-12-12 15:36:02][chat_channel.py:300] - Worker return success, session_id = @6d5146557f3aa6bbfd4773c4bed358c96d9333e24e235882152567f2c7f9d6ed
